{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"sql":"SELECT \n  a.*,\n  a.SRC_ID AP_PAY_H_ID,\n  a.SRC_ID AP_INV_GL_H_ID,\n (SELECT  AP_PAY_H_CODE  FROM xc_ap_pay_h b  WHERE b.AP_PAY_H_ID = a.SRC_ID ) AP_PAY_H_CODE,\n (SELECT  AP_INV_GL_H_CODE  FROM xc_ap_inv_gl_h b  WHERE b.AP_INV_GL_H_ID = a.SRC_ID ) AP_INV_GL_H_CODE,\n (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE = 'XC_GL_V_STATUS' AND VAL_CODE = a.V_STATUS) V_STATUS_NAME,\n (SELECT  LEDGER_NAME  FROM xc_gl_ledgers b  WHERE b.LEDGER_ID = a.LEDGER_ID) LEDGER_NAME,\n\n  CASE\n    ap_cancel_type \n    WHEN 'YFHYUF' \n    THEN '应付核预付' \n    WHEN 'YFHYS' \n    THEN '应付核应收' \n    WHEN 'YFHLDC' \n    THEN '应付红蓝对冲' \n    WHEN 'YUFHLDC' \n    THEN '预付红蓝对冲' \n    ELSE '应付核预付' \n  END AS AP_CANCEL_TYPE_NAME,\n\t\n  CASE\n    WHEN ap_cancel_type = 'YFHYUF' \n    OR ap_cancel_type = 'YFHLDC' \n    THEN \n    (SELECT \n      AP_DOC_CAT_CODE \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      AP_DOC_CAT_CODE \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID \n    LIMIT 1) \n    ELSE \n    (SELECT \n      AP_DOC_CAT_CODE \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS AP_DOC_CAT_CODE,\n\n  CASE\n    WHEN ap_cancel_type = 'YFHYUF' \n    OR ap_cancel_type = 'YFHLDC' \n    THEN \n    (SELECT \n      AP_INV_GL_H_CODE \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      AP_PAY_H_CODE \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID \n    LIMIT 1) \n    ELSE \n    (SELECT \n      AP_INV_GL_H_CODE \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS SRC_CODE ,\n CASE\n    WHEN ap_cancel_type = 'YFHYUF' \n    OR ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n    WHEN ap_cancel_type = 'YFHLDC' \n    THEN \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n  END AS AP_CONTRACT_NAME,\n  \n  CASE\n    WHEN  ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.VENDOR_NAME FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n    WHEN ap_cancel_type = 'YFHLDC' OR ap_cancel_type = 'YFHYUF' OR ap_cancel_type = 'YFHYS'\n    THEN \n    (SELECT \n      (SELECT c.VENDOR_NAME FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.VENDOR_NAME FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n  END AS VENDOR_NAME,\n\n\n CASE\n    WHEN  ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.VENDOR_ID FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n    WHEN ap_cancel_type = 'YFHLDC' OR ap_cancel_type = 'YFHYUF' OR ap_cancel_type = 'YFHYS'\n    THEN \n    (SELECT \n      (SELECT c.VENDOR_ID FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.VENDOR_ID FROM xc_ap_vendors c WHERE c.VENDOR_ID=b.VENDOR_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n  END AS VENDOR_ID,\n\n  \n  CASE\n    WHEN ap_cancel_type = 'YFHYUF' \n    OR ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID)\n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n    WHEN ap_cancel_type = 'YFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n  END AS DEPT_NAME,\n  \n  CASE\n    WHEN ap_cancel_type = 'YFHYUF' \n    OR ap_cancel_type = 'YUFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n    WHEN ap_cancel_type = 'YFHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ap_pay_h b \n    WHERE b.AP_PAY_H_ID = a.SRC_ID) \n  END AS PROJECT_NAME\nFROM\n  xc_ap_cancel_h a  WHERE AP_CANCEL_H_ID = {?AP_CANCEL_H_ID?}","type":"object","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}