{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//验证是否可以删除，合同和应付使用后不可以删除\nvar deleteRecords = Wb.decode(request.getParameter('deleteRecords'));\n\nWb.each(deleteRecords,function(rec){\n  //验证应付是否使用\n  app.run('SELECT 1 FROM xc_ap_inv_gl_h t WHERE t.VENDOR_ID = \\''+rec.VAL_ID+'\\' ',\n          {errorText:rec.VAL_NAME+'已被使用,不可删除！'}\n         );\n\n  //验证合同是否使用\n  app.run('SELECT 1 FROM xc_ap_contract t WHERE t.VENDOR_ID = \\''+rec.VAL_ID+'\\'',\n          {errorText:rec.VAL_NAME+'已被使用,不可删除！'}\n         );\n});\n\n","itemId":"module"},"children":[{"configs":{"sql":"delete from {#ld_seg#}\nwhere {#ld_seg_id#} = {?id?}","arrayName":"ids","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}