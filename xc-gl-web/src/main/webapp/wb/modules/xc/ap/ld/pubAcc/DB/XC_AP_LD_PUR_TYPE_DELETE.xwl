{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"com.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xc/ap/ld/pubAcc/XC_AP_LD_PUR_TYPE\");","serverScript":"var deleteRecs = Wb.decode(request.getParameter('destroy'));\nWb.each(deleteRecs,function(rec){\n  app.run('SELECT 1 FROM (SELECT B.AP_PUR_TYPE_ID FROM xc_ap_invoice_H A,xc_ap_invoice_l B WHERE A.AP_INV_H_ID=B.AP_INV_H_ID AND A.LEDGER_ID=\\''+rec.LEDGER_ID+'\\' AND B.AP_PUR_TYPE_ID=\\''+rec.AP_PUR_TYPE_ID+'\\' UNION SELECT B.AP_PUR_TYPE_ID FROM xc_ap_inv_gl_H A,xc_ap_inv_gl_l B WHERE A.AP_INV_GL_H_ID=B.AP_INV_GL_H_ID AND A.LEDGER_ID=\\''+rec.LEDGER_ID+'\\' AND B.AP_PUR_TYPE_ID=\\''+rec.AP_PUR_TYPE_ID+'\\' UNION SELECT B.AP_PUR_TYPE_ID FROM xc_ap_pay_req_h A,xc_ap_pay_req_l B WHERE A.AP_PAY_REQ_H_ID=B.AP_PAY_REQ_H_ID AND A.LEDGER_ID=\\''+rec.LEDGER_ID+'\\' AND B.AP_PUR_TYPE_ID=\\''+rec.AP_PUR_TYPE_ID+'\\' UNION SELECT B.AP_PUR_TYPE_ID FROM xc_ap_pay_h A,xc_ap_pay_l B WHERE A.AP_PAY_H_ID=B.AP_PAY_H_ID AND A.LEDGER_ID=\\''+rec.LEDGER_ID+'\\' AND B.AP_PUR_TYPE_ID=\\''+rec.AP_PUR_TYPE_ID+'\\') d', {\n    //errorText: '{#AP_PUR_TYPE_NAME_COL#} \"[' + rec.AP_PUR_TYPE_NAME + ']\" {#MSG2#}'\n    errorText: '{#bywyybksc#}'\n  });\n});\nvar newArr = Wb.encode(deleteRecs);\nrequest.setAttribute(\"batArray\",newArr);","itemId":"module"},"children":[{"configs":{"sql":"delete from xc_ap_ld_pur_type where LEDGER_ID={?LEDGER_ID?} and AP_PUR_TYPE_ID={?AP_PUR_TYPE_ID?}","arrayName":"batArray","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}