{"inframe":false,"title":"合同选择","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xc/ap/ap-com-lov/AP_CONTRACT_ID_PICK/json/AP_CONTRACT_ID_PICK_ALL\");","itemId":"module"},"children":[{"configs":{"layout":"fit","itemId":"AP_CONTRACT_ID_P","border":"false"},"children":[{"configs":{"hidden":"true","itemId":"AP_CONTRACT_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"QUERY_LEDGER_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"QUERY_VENDOR_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"80","labelAlign":"right","itemId":"AP_CONTRACT_NAME","fieldLabel":"{#AP_CONTRACT_NAME#}"},"events":{"expand":"if(app.QUERY_LEDGER_ID.getValue() === null || app.QUERY_LEDGER_ID.getValue() === ''){\n\tWb.toast('{#EMPTY_LEDGER_INFO#}');\n    app.searchButton.fireEvent('click');\n    return;\n}\napp.pickComp.getStore().load({params:{QUERY_LEDGER_ID:app.QUERY_LEDGER_ID.getValue(),QUERY_VENDOR_ID : app.QUERY_VENDOR_ID.getValue()}});","focus":"//加载前加上供应商信息\nreturnRowFn(null,'xc_ap_contract_before');","collapse":"app.QUERY_CODE_NAME.reset();"},"children":[{"configs":{"tagConfigs":"minWidth:400","height":"300","barExportButtons":"false","barExportAllButtons":"false","itemId":"pickComp"},"events":{"itemdblclick":"app.AP_CONTRACT_ID.setValue(record.data.AP_CONTRACT_ID);\napp.AP_CONTRACT_NAME.setValue(record.data.AP_CONTRACT_NAME);\nreturnRowFn(record,'xc_ap_contract');\nvar picker = this.ownerCmp;\npicker.collapse();"},"children":[{"configs":{"itemId":"store","url":"m?xwl=xc/ap/ap-com-lov/AP_CONTRACT_ID_PICK/DB/XC_AP_CONTRACT_SELECT"},"events":{"beforeload":"operation.params = Wb.getValue([app.AP_CONTRACT_ID_P,app.tbar]);"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"columns"},"children":[{"configs":{"hidden":"true","dataIndex":"AP_CONTRACT_ID","itemId":"AP_CONTRACT_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#AP_CONTRACT_CODE_COL#}","dataIndex":"AP_CONTRACT_CODE","itemId":"AP_CONTRACT_CODE_COL","flex":"1"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#AP_CONTRACT_NAME_COL#}","dataIndex":"AP_CONTRACT_NAME","itemId":"AP_CONTRACT_NAME_COL","flex":"1"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"},{"configs":{"itemId":"tbar"},"children":[{"configs":{"labelWidth":"100","emptyText":"{#AP_CONTRACT_CODE_NAME#}","labelAlign":"right","itemId":"QUERY_CODE_NAME"},"events":{"specialkey":"if(Ext.EventObject.getKey()==13){\n\tapp.searchButton.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"text"},{"configs":{"itemId":"searchButton","iconCls":"seek_icon"},"events":{"click":"app.pickComp.getStore().load();"},"children":[],"expanded":false,"type":"button"},{"configs":{"itemId":"cancelBtn","iconCls":"delete_icon"},"events":{"click":"app.AP_CONTRACT_NAME.reset();\napp.AP_CONTRACT_ID.reset();\napp.QUERY_CODE_NAME.reset(); \n\napp.AP_CONTRACT_NAME.getPicker().hide();"},"children":[],"expanded":false,"type":"item"}],"expanded":true,"type":"toolbar"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"picker"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}