{"inframe":false,"title":"付款单查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"var sql, data = app.get();\nsql = ' where 1=1 and V_STATUS>=\\'3\\' ';\n\nsql+=' and LEDGER_ID={?QUERY_LEDGER_ID?}';\n\nsql+=' and VENDOR_ID={?QUERY_VENDOR_ID?}';\n\nif (!Wb.isEmpty(data.QUERY_AP_DOC_CAT_CODE)) {\n  sql+=' and AP_DOC_CAT_CODE={?QUERY_AP_DOC_CAT_CODE?}';\n}\n\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"oracle":"select * from (\n  select t1.*, ROWNUM as \"RN\" from (\n    \n      SELECT \n  a.*,\n  (CASE WHEN verifier_id IS NULL THEN '否' ELSE '是' END) VERFY_STATUS,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_GL_V_STATUS' and VAL_CODE=V_STATUS) V_STATUS_NAME,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_EX_SIGN_STATUS' and VAL_CODE=SIGN_STATUS) SIGN_STATUS_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.SIGN_USER_ID))SIGN_USER_NAME,\n  (SELECT AP_CAT_NAME FROM xc_ap_doc_cats b WHERE b.AP_CAT_CODE=a.AP_DOC_CAT_CODE) AP_DOC_CAT_NAME,\n  (SELECT LEDGER_NAME FROM xc_gl_ledgers b WHERE b.LEDGER_ID=a.LEDGER_ID) LEDGER_NAME,\n  (SELECT VENDOR_NAME FROM xc_ap_vendors b WHERE b.VENDOR_ID=a.VENDOR_ID) VENDOR_NAME,\n  (SELECT PROJECT_NAME FROM xc_pm_projects b WHERE b.PROJECT_ID=a.PROJECT_ID) PROJECT_NAME,\n  (SELECT DEPT_NAME FROM xip_pub_depts b WHERE b.DEPT_ID=a.DEPT_ID) DEPT_NAME,\n  (SELECT AP_CONTRACT_NAME FROM xc_ap_contract b WHERE b.AP_CONTRACT_ID=a.AP_CONTRACT_ID) AP_CONTRACT_NAME,\n  (SELECT ACC_NAME FROM xc_gl_accounts b WHERE b.acc_id=a.PAY_ACC_ID) PAY_ACC_NAME,\n  (SELECT CCID_NAME FROM xc_gl_ccid b WHERE b.CCID=a.PAY_CCID) PAY_CCID_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.CREATED_BY)) CREATED_BY_NAME\nFROM\n  xc_ap_pay_h a {#sql#}\nAND (AP_PAY_H_CODE like '%{#QUERY_CODE_NAME#}%' OR DESCRIPTION like '%{#QUERY_CODE_NAME#}%') ORDER BY AP_PAY_H_CODE) t1 \n  where ROWNUM<={?bigint.endIndex?}\n)\nwhere RN >= {?bigint.beginIndex?}","itemId":"select","mysql":"  SELECT \n  a.*,\n  (CASE WHEN verifier_id IS NULL THEN '否' ELSE '是' END) VERFY_STATUS,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_GL_V_STATUS' and VAL_CODE=V_STATUS) V_STATUS_NAME,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_EX_SIGN_STATUS' and VAL_CODE=SIGN_STATUS) SIGN_STATUS_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.SIGN_USER_ID))SIGN_USER_NAME,\n  (SELECT AP_CAT_NAME FROM xc_ap_doc_cats b WHERE b.AP_CAT_CODE=a.AP_DOC_CAT_CODE) AP_DOC_CAT_NAME,\n  (SELECT LEDGER_NAME FROM xc_gl_ledgers b WHERE b.LEDGER_ID=a.LEDGER_ID) LEDGER_NAME,\n  (SELECT VENDOR_NAME FROM xc_ap_vendors b WHERE b.VENDOR_ID=a.VENDOR_ID) VENDOR_NAME,\n  (SELECT PROJECT_NAME FROM xc_pm_projects b WHERE b.PROJECT_ID=a.PROJECT_ID) PROJECT_NAME,\n  (SELECT DEPT_NAME FROM xip_pub_depts b WHERE b.DEPT_ID=a.DEPT_ID) DEPT_NAME,\n  (SELECT AP_CONTRACT_NAME FROM xc_ap_contract b WHERE b.AP_CONTRACT_ID=a.AP_CONTRACT_ID) AP_CONTRACT_NAME,\n  (SELECT ACC_NAME FROM xc_gl_accounts b WHERE b.acc_id=a.PAY_ACC_ID) PAY_ACC_NAME,\n  (SELECT CCID_NAME FROM xc_gl_ccid b WHERE b.CCID=a.PAY_CCID) PAY_CCID_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.CREATED_BY)) CREATED_BY_NAME\nFROM\n  xc_ap_pay_h a {#sql#}\nAND (AP_PAY_H_CODE like '%{#QUERY_CODE_NAME#}%' OR DESCRIPTION like '%{#QUERY_CODE_NAME#}%')\nORDER BY AP_PAY_H_CODE limit {?bigint.start?},{?bigint.limit?}"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"autoPage":"false","sql":"{#select#}","totalSql":"  select count(*) from (SELECT \n  a.*,\n  (CASE WHEN verifier_id IS NULL THEN '否' ELSE '是' END) VERFY_STATUS,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_GL_V_STATUS' and VAL_CODE=V_STATUS) V_STATUS_NAME,\n  (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_EX_SIGN_STATUS' and VAL_CODE=SIGN_STATUS) SIGN_STATUS_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.SIGN_USER_ID))SIGN_USER_NAME,\n  (SELECT AP_CAT_NAME FROM xc_ap_doc_cats b WHERE b.AP_CAT_CODE=a.AP_DOC_CAT_CODE) AP_DOC_CAT_NAME,\n  (SELECT LEDGER_NAME FROM xc_gl_ledgers b WHERE b.LEDGER_ID=a.LEDGER_ID) LEDGER_NAME,\n  (SELECT VENDOR_NAME FROM xc_ap_vendors b WHERE b.VENDOR_ID=a.VENDOR_ID) VENDOR_NAME,\n  (SELECT PROJECT_NAME FROM xc_pm_projects b WHERE b.PROJECT_ID=a.PROJECT_ID) PROJECT_NAME,\n  (SELECT DEPT_NAME FROM xip_pub_depts b WHERE b.DEPT_ID=a.DEPT_ID) DEPT_NAME,\n  (SELECT AP_CONTRACT_NAME FROM xc_ap_contract b WHERE b.AP_CONTRACT_ID=a.AP_CONTRACT_ID) AP_CONTRACT_NAME,\n  (SELECT ACC_NAME FROM xc_gl_accounts b WHERE b.acc_id=a.PAY_ACC_ID) PAY_ACC_NAME,\n  (SELECT CCID_NAME FROM xc_gl_ccid b WHERE b.CCID=a.PAY_CCID) PAY_CCID_NAME,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.CREATED_BY)) CREATED_BY_NAME\nFROM\n  xc_ap_pay_h a {#sql#}\n                        ) b","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}