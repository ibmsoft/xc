{"inframe":false,"title":"删除账薄信息","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//删除的校验规则\n\n//账薄的科目体系已经被使用\napp.run('SELECT 1 FROM xc_gl_ld_accounts WHERE LEDGER_ID = {?ledger_id?}',{\n\terrorText:'该账薄已经被使用，无法删除'\n});\n\n//账薄的会计期已被打开\napp.run('SELECT 1 FROM XC_GL_LD_PERIOD WHERE LEDGER_ID = {?ledger_id?} AND LD_PERIOD_STATUS = 1',{\n\terrorText:'该账薄已经被使用，无法删除'\n});\n\n//账薄存在辅助核算段分配\napp.run('SELECT 1 FROM XC_GL_LD_ASS_SEGMENTS WHERE LEDGER_ID = {?ledger_id?}',{\n\terrorText:'该账薄已经被使用，无法删除'\n});\n\n//账薄已被授权\napp.run('SELECT 1 FROM XC_GL_LD_SEC WHERE LEDGER_ID = {?ledger_id?}',{\n\terrorText:'该账薄已经被使用，无法删除'\n});\n\n//账薄存在凭证枚举\napp.run('SELECT 1 FROM XC_GL_V_SUMMARIES WHERE LEDGER_ID = {?ledger_id?}',{\n\terrorText:'该账薄已经被使用，无法删除'\n});\n\n","itemId":"module"},"children":[{"configs":{"sql":"DELETE FROM XC_GL_LEDGERS\n  WHERE LEDGER_ID = {?ledger_id?}","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}