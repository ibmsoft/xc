{"inframe":false,"title":"修改账薄信息","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//这里验证账薄开始会计期是否合法\nvar temp = request.getParameter('START_PERIOD_CODE');\n\nif(temp.length()>0) {\n  //单条数据验证\n  app.run('SELECT DISTINCT(1) FROM XC_GL_PERIOD WHERE {?START_PERIOD_CODE?} NOT IN (SELECT PERIOD_CODE FROM xc_gl_period WHERE PERIOD_CODE = {?START_PERIOD_CODE?} AND IS_ENABLED = 1 AND IS_ADJ_PERIOD = \"N\")',{\n      errorText:'该账薄的开始会计期不是一个有效会计期，保存失败'\n  });\n}","itemId":"module"},"children":[{"configs":{"sql":"UPDATE XC_GL_LEDGERS\nSET \n\tSTART_PERIOD_CODE = {?START_PERIOD_CODE?},\n\tCURRENCY_CODE = {?CURRENCY_CODE?},\n    RETAINED_ACC_ID = {?RETAINED_ACC_ID?},\n\tEXCHANGE_ACC_ID = {?EXCHANGE_ACC_ID?},\n    LEDGER_ACC_DESC = {?LEDGER_ACC_DESC?},\n\n    IS_VALID = 'Y',\n\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\n    LAST_UPDATED_BY  = {?XIP.userId?}  \nWHERE  LEDGER_ID = {?LEDGER_ID?}\n","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}