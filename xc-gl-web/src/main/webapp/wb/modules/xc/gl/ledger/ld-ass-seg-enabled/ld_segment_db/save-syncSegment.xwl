{"inframe":false,"title":"保存","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var lineArray = request.getParameter(\"lineArray\") ;\nvar ledger_id = request.getParameter(\"LEDGER_ID\");\nvar arr = Wb.decode(lineArray) ;\nfor(var i=0;i<arr.length;i++){\n  arr[i].LD_SEG_ID = java.util.UUID.randomUUID();\n  arr[i].LEDGER_ID = ledger_id ;\n}\nvar newlines = Wb.encode(arr);\n\n// var out=java.lang.System.out;\n// out.println(arr.length+\"; aaaa = \"+arr[0].LINE_ID);//System console\n// out.println(newlines);\n\nrequest.setAttribute(\"batchLines\",newlines) ;\n//request.setAttribute(\"headId\",java.util.UUID.randomUUID());","itemId":"module"},"children":[{"configs":{"sql":"insert into xc_gl_ld_ass_segments\n  (LD_SEG_ID,\n   LEDGER_ID,\n   SEG_CODE,\n   IS_ENABLED,\n   creation_date,\n   created_by)\nvalues\n  ({?LD_SEG_ID?},\n   {?LEDGER_ID?},\n   {?SEG_CODE?},\n   '1',\n   {?timestamp.sys.date?},\n   {?XIP.userId?})","transaction":"start","arrayName":"batchLines","itemId":"query1"},"children":[],"expanded":false,"type":"query"},{"configs":{"json":"{'flag':'0':'msg':'数据保存成功！'}","itemId":"response1"},"children":[],"expanded":false,"type":"response"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}