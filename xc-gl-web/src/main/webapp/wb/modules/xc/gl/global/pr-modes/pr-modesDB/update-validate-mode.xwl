{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"// TODO: 判断名称和类型是否重复\napp.run('select 1 from xc_gl_pr_modes t where t.MODE_NAME = {?mode_name?} and t.MODE_TYPE={?mode_type?} and t.MODE_ID!={?mode_id?}', {\n  errorText: '在该类型下已经存在。'\n});\n\nvar infoArray = request.getParameter(\"infoArray\") ;\nvar data=Wb.decode(infoArray);\nWb.each(data,function(rec){\napp.run(\"select 1 from xc_gl_ld_pr_modes where MODE_ID='\"+rec.modeId+\"'\",{errorText: '该条收付款方式已经被账簿引用，不能停用!'});\n});\n\nvar json = {'flag':'0'} ;\napp.send(json) ;\n","itemId":"module"},"children":[{"configs":{"sql":"update xc_gl_pr_modes\nset MODE_TYPE={?mode_type?},\n    MODE_NAME={?mode_name?},\n    MODE_DESC={?mode_desc?},\n   IS_ENABLED={?is_enabled?}\nwhere MODE_ID={?mode_id?}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}