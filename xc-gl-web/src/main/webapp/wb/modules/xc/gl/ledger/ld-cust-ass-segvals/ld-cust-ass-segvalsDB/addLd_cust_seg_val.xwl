{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//检查账簿下面是否存在重复的LD_CUST_SEGVAL_CODE\napp.run('select 1 from xc_gl_ld_cust_ass_segvals where LD_CUST_SEGVAL_CODE = {?LD_CUST_SEGVAL_CODE?} and LEDGER_ID = {?LEDGER_ID?} ', {\n  errorText: '编码为\"' + app.get('LD_CUST_SEGVAL_CODE') + '\"在该体系中已经存在!'\n});\n//检查账簿下面是否存在重复的segval_code\napp.run('select 1 from xc_gl_ld_cust_ass_segvals where LD_CUST_SEGVAL_NAME = {?LD_CUST_SEGVAL_NAME?} and LEDGER_ID = {?LEDGER_ID?} ', {\n  errorText: '名称为\"' + app.get('LD_CUST_SEGVAL_NAME') + '\"在该体系中已经存在!'\n});\nvar CREATION_DATE = new java.util.Date();\nvar LAST_UPDATE_DATE = new java.util.Date();\nvar CREATED_BY = '{#XIP.userId#}';\nvar LAST_UPDATED_BY = '{#XIP.userId#}';\nvar id = java.util.UUID.randomUUID();\nrequest.setAttribute('LD_CUST_SEGVAL_ID',id); //设置自动生成的ID号\nrequest.setAttribute('CREATION_DATE',CREATION_DATE);\nrequest.setAttribute('LAST_UPDATE_DATE',LAST_UPDATE_DATE);\nrequest.setAttribute('CREATED_BY',CREATED_BY);\nrequest.setAttribute('LAST_UPDATED_BY',LAST_UPDATED_BY);\n//插入记录到表\napp.update({\n  tableName: 'xc_gl_ld_cust_ass_segvals',\n  mode: 'insert'\n});","itemId":"module"},"children":[],"expanded":false,"type":"module"}],"pageLink":"","iconCls":""}