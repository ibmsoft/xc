{"inframe":false,"title":"获取年中余额","hidden":true,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","itemId":"module"},"children":[{"configs":{"oracle":"SELECT\n  b.ID,\n  c.ACC_CODE,\n  b.IS_VALID,\n  b.PERIOD_CODE,\n  b.CURRENCY_CODE,\n  b.ENTER_CNY_CODE,\n  c.CCID,\n  c.CCID_NAME,\n  c.CCID_CODE,\n  d.IS_FOREGIN_CNY,\n  d.IS_AMOUNT,\n  d.DIM_ID,\n  a.BALANCE_DIRECTION,\n  case a.BALANCE_DIRECTION \nwhen '1' then '借'\nelse '贷' end as \"科目方向\",\n  /*----年初金额、数量、原币金额--*/\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.Y_DR \n    WHEN '-1' \n    THEN b.Y_CR \n  END AS \"YEAR_BALANCE\",\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.AMT_Y_DR \n    WHEN '-1' \n    THEN b.AMT_Y_CR \n  END AS \"YEAR_AMOUNT\",\n\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' THEN b.T_Y_DR\n    WHEN '-1' THEN b.T_Y_CR\n  END AS \"YEAR_OR_BALANCE\",\n  /*---借方金额、原币金额、数量*/\n  b.YTD_DR,\n  b.T_YTD_DR AS \"DEBIT_OR_AMOUNT\",\n  b.AMT_YTD_DR,\n  /*---贷方金额、原币金额、数量*/\n  b.YTD_CR,\n  b.T_YTD_CR AS \"CREBIT_OR_AMOUNT\",\n  b.AMT_YTD_CR,\n  /*期初金额、原币金额、数量--*/\n  CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.PJTD_DR \n    WHEN '-1' \n    THEN b.PJTD_CR \n  END AS \"PRRIOD_BALANCE\",\n   CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.T_PJTD_DR \n    WHEN '-1' \n    THEN b.T_PJTD_CR \n  END AS \"PERIOD_OR_BALANCE\", \n  /*期初数量*/\n   CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.AMT_PJTD_DR \n    WHEN '-1' \n    THEN b.AMT_PJTD_CR \n  END AS \"PRRIOD_AMOUNT\",\n(select t.ACC_CATEGORY_NAME from xc_gl_acc_category t where t.ACC_CATEGORY_CODE = a.ACC_CATEGORY_CODE)  as \"ACC_CATEGORY_NAME\",\n(select t.BALANCE_DIRECTION from xc_gl_acc_category t where t.ACC_CATEGORY_CODE = a.ACC_CATEGORY_CODE) as \"SUM_DIRECTION\"\nFROM\n  xc_gl_balance_tmp b,\n  xc_gl_ccid c,\n  xc_gl_ld_accounts d,\n  xc_gl_accounts a \nWHERE b.CCID = c.CCID\n  AND b.LEDGER_ID = d.LEDGER_ID \n  AND c.ACC_ID = d.ACC_ID\n  AND d.ACC_ID = a.ACC_ID\n  {#WHERESQL#}\n  ORDER BY c.ACC_CODE asc","itemId":"sqlswitcher","mysql":"SELECT\n  b.ID,\n  c.ACC_CODE,\n  b.IS_VALID,\n  b.PERIOD_CODE,\n  b.CURRENCY_CODE,\n  b.ENTER_CNY_CODE,\n  c.CCID,\n  c.CCID_NAME,\n  c.CCID_CODE,\n  d.IS_FOREGIN_CNY,\n  d.IS_AMOUNT,\n  d.DIM_ID,\n  a.BALANCE_DIRECTION,\n  case a.BALANCE_DIRECTION \nwhen '1' then '借'\nelse '贷' end as \"科目方向\",\n  /*----年初金额、数量、原币金额--*/\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.Y_DR - b.Y_CR \n    WHEN '-1' \n    THEN b.Y_CR - b.Y_DR\n  END AS \"YEAR_BALANCE\",\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.AMT_Y_DR - b.AMT_Y_CR\n    WHEN '-1' \n    THEN b.AMT_Y_CR - b.AMT_Y_DR\n  END AS \"YEAR_AMOUNT\",\n\n  CASE\n    a.BALANCE_DIRECTION\n    WHEN '1' THEN b.T_Y_DR - b.T_Y_CR\n    WHEN '-1' THEN b.T_Y_CR - b.T_Y_DR\n  END AS \"YEAR_OR_BALANCE\",\n  /*---借方金额、原币金额、数量*/\n  b.YTD_DR,\n  b.T_YTD_DR AS \"DEBIT_OR_AMOUNT\",\n  b.AMT_YTD_DR,\n  /*---贷方金额、原币金额、数量*/\n  b.YTD_CR,\n  b.T_YTD_CR AS \"CREBIT_OR_AMOUNT\",\n  b.AMT_YTD_CR,\n  /*期初金额、原币金额、数量--*/\n  CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.PJTD_DR - b.PJTD_CR \n    WHEN '-1' \n    THEN b.PJTD_CR - b.PJTD_DR\n  END AS \"PRRIOD_BALANCE\",\n   CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.T_PJTD_DR - b.T_PJTD_CR\n    WHEN '-1' \n    THEN b.T_PJTD_CR - b.T_PJTD_DR\n  END AS \"PERIOD_OR_BALANCE\", \n  /*期初数量*/\n   CASE\n     a.BALANCE_DIRECTION\n    WHEN '1' \n    THEN b.AMT_PJTD_DR - b.AMT_PJTD_CR\n    WHEN '-1' \n    THEN b.AMT_PJTD_CR - b.AMT_PJTD_DR\n  END AS \"PRRIOD_AMOUNT\",\n(select t.ACC_CATEGORY_NAME from xc_gl_acc_category t where t.ACC_CATEGORY_CODE = a.ACC_CATEGORY_CODE) as \"ACC_CATEGORY_NAME\",\n(select t.BALANCE_DIRECTION from xc_gl_acc_category t where t.ACC_CATEGORY_CODE = a.ACC_CATEGORY_CODE) as \"SUM_DIRECTION\"\nFROM\n  xc_gl_balance_tmp b,\n  xc_gl_ccid c,\n  xc_gl_ld_accounts d,\n  xc_gl_accounts a \nWHERE b.CCID = c.CCID\n  AND b.LEDGER_ID = d.LEDGER_ID \n  AND c.ACC_ID = d.ACC_ID\n  AND d.ACC_ID = a.ACC_ID\n  {#WHERESQL#}\n  ORDER BY c.ACC_CODE asc"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher#}","itemId":"getMidYearBalance"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}