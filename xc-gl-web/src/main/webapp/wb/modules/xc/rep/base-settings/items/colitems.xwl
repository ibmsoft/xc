{"inframe":false,"title":"列指标管理","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"com.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xc/rep/base-settings/items/rowitems\");","itemId":"module"},"children":[{"configs":{"itemId":"windows"},"children":[{"configs":{"height":"150","frame":"true","layout":"column","width":"350","buttonAlign":"center","itemId":"editWin","dialog":"false","border":"false","modal":"true","iconCls":"table_edit_icon","createInstance":"false"},"events":{"close":"app.queryBtn.fireEvent('click');"},"children":[{"configs":{"tagConfigs":"baseCls:'my-panel-no-border'","frame":"true","layout":"form","columnWidth":".8","itemId":"tr1","border":"false","padding":"10 0 0 0"},"children":[{"configs":{"itemId":"editRowItemId"},"children":[],"expanded":false,"type":"hidden"},{"configs":{"labelWidth":"80","readOnly":"true","labelAlign":"right","itemId":"editRowItemCode","fieldLabel":"{#la_itemCode#}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"tagConfigs":"baseCls:'my-panel-no-border'","frame":"true","layout":"form","columnWidth":".8","itemId":"tr2","border":"false"},"children":[{"configs":{"labelWidth":"80","allowBlank":"false","labelAlign":"right","itemId":"editRowItemName","fieldLabel":"{#la_itemName#}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"itemId":"buttons"},"children":[{"configs":{"text":"{#la_saveBtn#}","itemId":"saveBtn","iconCls":"save_icon"},"events":{"click":"if(Ext.isEmpty(app.editRowItemName.getValue())){\n  Wb.info('{#la_fillupNecessary1#}');\n}else{\n  Wb.request({\n    url:'m?xwl=xc/rep/base-settings/items/data/colitem-db/updateColItemName',\n    params:{'COLITEM_NAME':app.editRowItemName.getValue(),'COLITEM_ID':app.editRowItemId.getValue()},\n    success:function(){\n      Wb.info('{#la_modifySuccTip#}');\n    },\n    failure:function(){\n      Wb.info('{#la_modifyFailTip#}');\n    }\n });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#la_cancelBtn#}","itemId":"cancelBtn","iconCls":"cancel_icon"},"events":{"click":"app.editWin.close();"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"array"}],"expanded":false,"type":"window"},{"configs":{"height":"350","width":"700","layout":"border","border":"false","itemId":"referenceWin","modal":"true","iconCls":"link_icon","createInstance":"false"},"children":[{"configs":{"region":"north","frame":"true","style":"border-style:none","layout":"fit","border":"false","itemId":"labelForm"},"children":[{"configs":{"tagConfigs":"baseCls:'my-panel-bo-border'","frame":"true","height":"25","layout":"column","border":"false","itemId":"labelPanel","x":"10"},"children":[{"configs":{"text":"{#la_colItemName#}","itemId":"refLabel"},"children":[],"expanded":false,"type":"label"},{"configs":{"itemId":"refName"},"children":[],"expanded":false,"type":"label"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"form"},{"configs":{"region":"center","itemId":"refGrid"},"children":[{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"{#la_rowNumber#}","align":"center","width":"45","xtype":"rownumberer","titleAlign":"center","itemId":"rowNum"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_tabCode#}","dataIndex":"TAB_CODE","itemId":"TAB_CODE_COL","flex":"4"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_tabName#}","dataIndex":"TAB_NAME","itemId":"TAB_NAME_COL","flex":"5"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_accHrcyName#}","dataIndex":"ACC_HRCY_NAME","itemId":"TAB_ACC_HRCY_COL","flex":"5"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_tabOrder#}","dataIndex":"TAB_ORDER","itemId":"TAB_ORDER_COL","flex":"2"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"},{"configs":{"itemId":"store","url":"m?xwl=xc/rep/base-settings/items/data/colitem-db/selectColRefTab"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"window"}],"expanded":true,"type":"folder"},{"configs":{"layout":"border","itemId":"viewport"},"children":[{"configs":{"region":"north","height":"50","frame":"true","style":"border-width:0px","layout":"column","itemId":"conditionForm","border":"false","padding":"10"},"children":[{"configs":{"tagConfigs":"columnWidth:0.3","labelWidth":"{#la_labelWidth#}","displayField":"ACC_HRCY_NAME","valueField":"ACC_HRCY_ID","labelAlign":"right","itemId":"rowItemHrcy","fieldLabel":"{#la_accHrcyName#}"},"events":{"select":"app.queryBtn.fireEvent('click');"},"children":[{"configs":{"pageSize":"-1","itemId":"store","autoLoad":"true","url":"m?xwl=xc/rep/base-settings/items/data/rowitem-db/selectAccHrcy"},"children":[],"expanded":false,"type":"store"}],"expanded":false,"type":"combo"},{"configs":{"tagConfigs":"columnWidth:0.3","labelWidth":"100","labelAlign":"right","itemId":"rowItemName","fieldLabel":"{#la_itemCodeName#}"},"events":{"specialkey":"if(e.getKey() == e.ENTER){\n  app.queryBtn.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"text"},{"configs":{"tagConfigs":"columnWidth:0.005","itemId":"label0"},"children":[],"expanded":false,"type":"label"},{"configs":{"tagConfigs":"columnWidth:0.06","text":"{#queryBtn#}","itemId":"queryBtn","iconCls":"seek_icon"},"events":{"click":"var _queryCodeOrName = '%%';\nvar _whereSql = ' 1=1';\nif(!Ext.isEmpty(app.rowItemName.getValue())){\n  _queryCodeOrName = '%'+app.rowItemName.getValue()+'%';\n}\nif(!Ext.isEmpty(app.rowItemHrcy.getValue())){\n  _whereSql = ' t.ACC_HRCY_ID = \\''+app.rowItemHrcy.getValue()+'\\'';\n}\napp.rowItemGrid.getStore().load({\n  params:{'codeOrName':_queryCodeOrName,'WHERESQL':_whereSql}\n});"},"children":[],"expanded":true,"type":"button"},{"configs":{"tagConfigs":"columnWidth:0.01","itemId":"label1"},"children":[],"expanded":false,"type":"label"},{"configs":{"tagConfigs":"columnWidth:0.06","text":"{#resetBtn#}","itemId":"resetBtn","iconCls":"refresh_icon"},"events":{"click":"app.conditionForm.getForm().reset();"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"form"},{"configs":{"region":"center","selType":"checkboxmodel","itemId":"rowItemGrid"},"events":{"itemdblclick":"app.editRowItemBtn.fireEvent('click');"},"children":[{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"-","itemId":"item1"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#modifyNameBtn#}","itemId":"editRowItemBtn","iconCls":"table_edit_icon"},"events":{"click":"var _records = app.rowItemGrid.getSelection();\nif(_records.length !== 1){\n  Wb.info('{#la_selectTip#}');\n}else{\n  var _editWin = new Ext.window.Window(app._editWin);\n  _editWin.setTitle('{#la_editColItemTip#}'+_records[0].data.COLITEM_NAME);\n  app.editRowItemCode.setValue(_records[0].data.COLITEM_CODE);\n  app.editRowItemName.setValue(_records[0].data.COLITEM_NAME);\n  app.editRowItemId.setValue(_records[0].data.COLITEM_ID);\n  _editWin.show();\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item2"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#queryLinkBtn#}","itemId":"colItemRefBtn","iconCls":"search_icon"},"events":{"click":"var _records = app.rowItemGrid.getSelection();\nif(_records.length !== 1){\n  Wb.info('{#la_selectTip#}');\n}else{\n  var _editWin = new Ext.window.Window(app._referenceWin);\n  _editWin.setTitle('{#la_tabWindowTitle#}');\n  app.refName.setText(_records[0].data.COLITEM_NAME,false);\n  _editWin.show(null,function(){\n     app.refGrid.getStore().load({params:{'COLITEM_ID':_records[0].data.COLITEM_ID}});\n  });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item3"},"children":[],"expanded":false,"type":"item"}],"expanded":true,"type":"toolbar"},{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"{#la_rowNumber#}","xtype":"rownumberer","align":"center","width":"40","titleAlign":"center","itemId":"rowNumber"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_colItemCode#}","dataIndex":"COLITEM_CODE","itemId":"COLITEM_CODE_COL","flex":"4"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_colItemName#}","dataIndex":"COLITEM_NAME","itemId":"COLITEM_NAME_COL","renderer":"metaData.tdAttr = 'data-qtip=\"' + value + '\"';\nreturn value;","flex":"6"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_rowItemAlias#}","dataIndex":"COLITEM_ALIAS","itemId":"COLITEM_ALIAS_COL","flex":"5"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#la_belongAccHrcy#}","dataIndex":"ACC_HRCY_NAME","itemId":"ACC_HRCY_NAME_COL","flex":"5"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"},{"configs":{"itemId":"store","autoLoad":"false","url":"m?xwl=xc/rep/base-settings/items/data/colitem-db/selectColItem"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}