{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var userId = request.getSession().getAttribute(\"XzSessionVars\").get('userId');\n\nvar protocol = request.getProtocol() ;\nvar ipAddr = request.getServerName();\nvar port = request.getServerPort() ;\nvar ctxPath = request.getContextPath() ;\n\nvar pp = protocol.substr(0,5) ;\nprotocol = (pp.indexOf(\"https\") == -1 ? \"http\" : \"https\") ;\n\nvar url = protocol + \"://\" + ipAddr +\":\" + port + ctxPath ;\n\nrequest.setAttribute('contextPath',ctxPath);\nrequest.setAttribute(\"userId\",userId);\nrequest.setAttribute(\"appIP\",url);\nvar appId = request.getSession().getAttribute(\"XzSessionVars\").get('appId');\nrequest.setAttribute(\"funId\",request.getParameter('funId'));\nrequest.setAttribute(\"appId\",request.getParameter('appId'));\n//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xc/po/pur/json/xc_po_pur_ap_h\");","itemId":"module"},"events":{"finalize":"function clearOtherFn(type){\n  if(type=='xip_pub_orgs'){\n\n  }else if(type==='xc_ap_vendors'){\n\n  }else if(type==='xip_pub_depts'){\n    app.QUERY_PROJECT_NAME.QUERY_DEPT_ID.setValue('');\n  }\n\n}\n\nfunction returnRowFn(r,type){\n  if(type=='xip_pub_orgs'){\n    app.QUERY_PROJECT_NAME.QUERY_LEDGER_ID.setValue(r.data.LEDGER_ID);\n    app.QUERY_DEPT_NAME.QUERY_LEDGER_ID.setValue(r.data.LEDGER_ID);\n    app.queryBtn.fireEvent('click');\n  }else if(type==='xc_ap_vendors'){\n    app.queryBtn.fireEvent('click');\n  }else if(type==='xc_pm_projects'){\n    app.QUERY_DEPT_NAME.DEPT_ID.setValue(r.data.DEPT_ID);\n    app.QUERY_DEPT_NAME.DEPT_NAME.setValue(r.data.DEPT_NAME);\n    app.queryBtn.fireEvent('click');\n  }else if(type==='xip_pub_depts'){\n    app.QUERY_PROJECT_NAME.QUERY_DEPT_ID.setValue(r.data.DEPT_ID);\n    app.QUERY_PROJECT_NAME.PROJECT_ID.setValue('');\n    app.QUERY_PROJECT_NAME.PROJECT_NAME.setValue('');\n    app.queryBtn.fireEvent('click');\n  }else if(type=='xc_ap_emp'){\n    app.queryBtn.fireEvent('click');\n  }\n}"},"children":[{"configs":{"layout":"border","itemId":"viewport1"},"events":{"afterrender":"app.QUERY_ORG_NAME.ORG_NAME.setLabelWidth(100);\napp.QUERY_DEPT_NAME.DEPT_NAME.setLabelWidth(100);\n//app.QUERY_DEPT_NAME.USER_ID.setValue('{#XIP.userId#}');\n\napp.QUERY_PROJECT_NAME.PROJECT_NAME.setLabelWidth(100);\nvar orgStore = app.QUERY_ORG_NAME.ORG_NAME.getPicker().store;\norgStore.load({\n  callback:function(){\n    var orgId = orgStore.getAt(0).get('ORG_ID');\n    var orgCode = orgStore.getAt(0).get('ORG_CODE');\n    var orgName = orgStore.getAt(0).get('ORG_NAME');\n    var ledgerId = orgStore.getAt(0).get('LEDGER_ID');\n    var ledgerName = orgStore.getAt(0).get('LEDGER_NAME');\n    \n    app.QUERY_ORG_NAME.ORG_ID.setValue(orgId);\n    app.QUERY_ORG_NAME.ORG_CODE.setValue(orgCode);\n    app.QUERY_ORG_NAME.ORG_NAME.setValue(orgName);\n    app.QUERY_ORG_NAME.LEDGER_ID.setValue(ledgerId);\n    app.QUERY_ORG_NAME.LEDGER_NAME.setValue(ledgerName);\n\n    app.QUERY_PROJECT_NAME.QUERY_LEDGER_ID.setValue(ledgerId);\n    app.QUERY_DEPT_NAME.QUERY_LEDGER_ID.setValue(ledgerId);\n    \n    app.QUERY_DEPT_NAME.DEPT_NAME.setFieldLabel('{#po_pur_dept_name#}');\n    app.QUERY_DEPT_NAME.DEPT_NAME.allowBlank = true;\n    app.queryBtn.fireEvent('click');\n  }\n});"},"children":[{"configs":{"region":"north","layout":"form","border":"false","itemId":"queryForm"},"events":{"afterrender":"\n"},"children":[{"configs":{"layout":"column","margin":"10 10 0 0","border":"false","itemId":"tr1"},"children":[{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td1_1"},"children":[{"configs":{"file":"m?xwl=xc/com-lov/ORG_PICK/ORG_ALL_PICK","itemId":"QUERY_ORG_NAME"},"children":[],"expanded":false,"type":"xwl"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td1_2"},"children":[{"configs":{"file":"m?xwl=xc/com-lov/DEPT_ID_PICK/DEPT_ID_LD","itemId":"QUERY_DEPT_NAME"},"children":[],"expanded":false,"type":"xwl"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td2_1"},"children":[{"configs":{"file":"m?xwl=xc/com-lov/PROJECT_ID_PICK/PROJECT_ID_LD","itemId":"QUERY_PROJECT_NAME"},"children":[],"expanded":false,"type":"xwl"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td1_3"},"children":[{"configs":{"labelWidth":"100","labelAlign":"right","itemId":"QUERY_PUR_H_CODE","fieldLabel":"{#po_pur_code_description#}"},"events":{"specialkey":"if (e.getKey() == '13') {\n  app.queryBtn.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"}],"expanded":false,"type":"panel"},{"configs":{"layout":"column","margin":"10 10 0 0","border":"false","itemId":"tr2"},"children":[{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td2_21"},"children":[{"configs":{"labelWidth":"100","pickList":"[['A','{#po_pur_draft#}'],['C','{#po_pur_running#}'],['D','{#po_pur_reject#}'],['R','{#po_pur_withdraw#}'],['E','{#po_pur_end#}'],['','{#po_pur_all#}']]","labelAlign":"right","itemId":"QUERY_AUDIT_STATUS","fieldLabel":"{#po_pur_audit_status#}"},"events":{"select":"app.queryBtn.fireEvent('click');"},"children":[],"expanded":false,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td2_31"},"children":[{"configs":{"labelWidth":"100","displayField":"VAL_NAME","valueField":"VAL_CODE","pickList":"[['A','{#po_pur_draft#}'],['C','{#po_pur_auditing#}'],['E','{#po_pur_end#}'],['','{#po_pur_all#}']]","labelAlign":"right","itemId":"QUERY_SYS_AUDIT_STATUS","fieldLabel":"{#po_pur_status#}"},"events":{"select":"app.queryBtn.fireEvent('click');"},"children":[],"expanded":true,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td2_2"},"children":[{"configs":{"labelWidth":"100","format":"Y-m-d","labelAlign":"right","itemId":"QUERY_START_DATE","fieldLabel":"{#po_pur_doc_date#}"},"events":{"specialkey":"if (e.getKey() == '13') {\n  app.queryBtn.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"date"}],"expanded":true,"type":"panel"},{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td2_3"},"children":[{"configs":{"labelWidth":"100","format":"Y-m-d","labelAlign":"right","itemId":"QUERY_END_DATE","fieldLabel":"{#po_pur_to#}"},"events":{"specialkey":"if (e.getKey() == '13') {\n  app.queryBtn.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"date"}],"expanded":true,"type":"panel"}],"expanded":false,"type":"panel"},{"configs":{"layout":"column","margin":"10 10 10 0","border":"false","itemId":"tr3"},"children":[{"configs":{"layout":"fit","columnWidth":".25","border":"false","itemId":"td3_1"},"children":[{"configs":{"labelWidth":"100","value":"N","labelAlign":"right","pickList":"[['Y','{#po_pur_yes#}'],['N','{#po_pur_no#}'],['','{#po_pur_all#}']]","itemId":"QUERY_IS_CLOSE","fieldLabel":"{#po_pur_if_close#}"},"events":{"select":"app.queryBtn.fireEvent('click');"},"children":[],"expanded":false,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"layout":"column","columnWidth":".25","border":"false","itemId":"td2_4"},"children":[{"configs":{"text":"{#po_pur_query#}","margin":"0 0 0 105","itemId":"queryBtn","iconCls":"seek_icon"},"events":{"click":"var orgId = app.QUERY_ORG_NAME.ORG_ID.getValue();//组织ID\nif(Wb.isEmpty(orgId)){//组织ID为空\n  Wb.toast('{#po_pur_first_select_org#}');\n  return;\n}\nvar deptId = app.QUERY_DEPT_NAME.DEPT_ID.getValue();//部门ID\nvar code = app.QUERY_PUR_H_CODE.getValue();//采购申请编号\nvar auditStatus = app.QUERY_AUDIT_STATUS.getValue();//工作流状态\nvar status = app.QUERY_SYS_AUDIT_STATUS.getValue();//状态\nvar projectId = app.QUERY_PROJECT_NAME.PROJECT_ID.getValue();//项目ID\nvar startDate = app.QUERY_START_DATE.getValue();//\nvar endDate = app.QUERY_END_DATE.getValue();//\nvar isClose = app.QUERY_IS_CLOSE.getValue();//是否关闭\napp.purHGrid.getStore().load({//加载表格\n  params:{'orgId':orgId,'deptId':deptId,'code':code,'auditStatus':auditStatus,\n          'projectId':projectId,'startDate':startDate,'endDate':endDate,\n          'status':status,'isClose':isClose}\n});\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#po_pur_reset#}","margin":"0 0 0 20","itemId":"resetBtn","iconCls":"cancel_icon"},"events":{"click":"var o = app.QUERY_ORG_NAME;\nvar orgId = o.ORG_ID.getValue();\nvar orgCode = o.ORG_CODE.getValue();\nvar orgName = o.ORG_NAME.getValue();\nvar ledgerId = o.LEDGER_ID.getValue();\nvar ledgerName = o.LEDGER_NAME.getValue();\n\napp.queryForm.getForm().reset();\n\no.ORG_ID.setValue(orgId);\no.ORG_CODE.setValue(orgCode);\no.ORG_NAME.setValue(orgName);\no.LEDGER_ID.setValue(ledgerId);\no.LEDGER_NAME.setValue(ledgerName);\napp.QUERY_PROJECT_NAME.QUERY_LEDGER_ID.setValue(ledgerId);\napp.QUERY_DEPT_NAME.QUERY_LEDGER_ID.setValue(ledgerId);\n\napp.queryBtn.fireEvent('click');\n"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"panel"}],"expanded":false,"type":"panel"}],"expanded":true,"type":"form"},{"configs":{"region":"center","selType":"checkboxmodel","itemId":"purHGrid"},"children":[{"configs":{"itemId":"store","url":"m?xwl=xc/po/pur/data/getPurHData"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"{#po_pur_add#}","itemId":"addBtn","iconCls":"file_add_icon"},"events":{"click":"var vstore = app.purHGrid.store;\n//调用操作界面\nWb.run({\n\turl:'m?xwl=xc/po/pur/xc_po_pur_ap_h_operate',\n  \tsuccess:function(app){\n    \tapp.initWin({\n        \tflag:'insert',\n          \tvstore:vstore\n        });\n    }\n  \t\n});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item1"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_edit#}","itemId":"editBtn","iconCls":"file_edit_icon"},"events":{"click":"var vrec = app.purHGrid.getSelection();\nvar vstore = app.purHGrid.store;\nif(vrec.length<1){\n  Wb.toast('{#po_pur_edit_record#}');\n  return;\n}\nif(vrec[0].data.AUDIT_STATUS=='C'||vrec[0].data.AUDIT_STATUS=='E'){\n  Wb.toast('{#po_pur_operating_audited#}');\n  return;\n}\n//调用操作界面\nWb.run({\n  url:'m?xwl=xc/po/pur/xc_po_pur_ap_h_operate',\n  success:function(app){\n    app.initWin({\n      flag:'edit',\n      PUR_AP_H_ID:vrec[0].data.PUR_AP_H_ID,\n      vstore:vstore\n    });\n  }\n\n});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item2"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_delete#}","itemId":"deleteBtn","iconCls":"file_delete_icon"},"events":{"click":"var recs = app.purHGrid.getSelection();//选中的行\nif(recs.length<1){\n  Wb.toast('{#po_pur_edit_record#}');\n  return;\n}\nif(recs[0].data.AUDIT_STATUS=='C'||recs[0].data.AUDIT_STATUS=='E'){//审批中，审批通过不能删除\n  Wb.toast('{#po_pur_operating_audited_delete#}');\n  return;\n}\nvar ids = [];//申请单ID数组\nfor(var i=0;i<recs.length;i++){\n  var id = {'id':recs[i].data.PUR_AP_H_ID};\n  ids.push(id);\n}\nExt.Msg.confirm('{#po_pur_prompt#}','{#po_pur_sure_to_delete#}',function(btn){\n  if(btn=='yes'){\n    Wb.request({\n      url:'{#contextPath#}'+'/poPurApHAction.do?method=deleteInfo',\n      params:{'ids':ids},\n      success:function(resp){\n        var response = Wb.decode(resp.responseText);\n        if(response.flag=='0'){//正常删除\n          Wb.toast('{#po_pur_delete_success#}');\n          app.purHGrid.store.reload();//重新加载store\n        }else{//删除异常\n          Wb.toast(response.msg);\n        }\n      }\n    });\n  }\n});\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item3"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_seek#}","itemId":"seekBtn","iconCls":"seek_icon"},"events":{"click":"var vrec = app.purHGrid.getSelection();\nif(vrec.length<1){\n  Wb.toast('{#po_pur_edit_record#}');\n  return;\n}\nWb.run({\n  url:'m?xwl=xc/po/pur/xc_po_pur_ap_h_view',\t\n  success:function(app){\n    app.initWin({\n      'purApHId':vrec[0].data.PUR_AP_H_ID\n    });\n  }\n});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item4"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_submit#}","itemId":"submitBtn","iconCls":"up_icon"},"events":{"click":"var rows = app.purHGrid.getSelection();//获得选中数据\nif (!rows.length) {//选中的数据条数\n  Wb.toast('{#po_pur_select_one_record#}');\n  return;\n}else if(rows[0].data.AUDIT_STATUS=='C'||rows[0].data.AUDIT_STATUS=='E'){\n  Wb.toast('{#po_pur_can_not_submit#}');\n  return;\n}\nelse {\n  var ledgerId = rows[0].data.LEDGER_ID; // 账簿\n  var apDocCatCode = 'CGSQ'; // 单据类型\n  var deptId = rows[0].data.DEPT_ID; //\n  var deptName = rows[0].data.DEPT_NAME;\n  var projectId = rows[0].data.PROJECT_ID;\n  var orgId = rows[0].data.ORG_ID;\n  var auditStatus = rows[0].data.AUDIT_STATUS; // 审批状态\n  var amount = rows[0].data.AMOUNT;\n  \n  // TODO: 取得流程编码、电脑端审批表单和移动端审批表单\n  Wb.request({\n    url:'{#contextPath#}'+'/apPayReqCommonAction.do?method=getProcAndFormsByCat',\n    params:{'LEDGER_ID':ledgerId,'AP_DOC_CAT_CODE':apDocCatCode},\n    success:function(res){\n      var response = Wb.decode(res.responseText);\n      if(response.flag=='0'){\n        // TODO: 取得流程编码、电脑端审批表单和移动端审批表单\n        var processCode = response.PROCESS_CODE ;\n        var pcApproveForm = response.PC_A_FORM_URL ;\n        var mobileApproveForm = response.M_A_FORM_URL ;\n        \n        // 电脑端和移动端审批表单为变量需要设置为全路径\n        pcApproveForm = '{#appIP#}' +  '/'+pcApproveForm ;\n        mobileApproveForm = '{#appIP#}' +  mobileApproveForm ;\n        \n        // TODO: 如果流程编码存在, 则提交流程审批处理\n        if(processCode !== \"\" && processCode !== null && processCode !== undefined){\n          // 如果项目未指定，则设置默认值为 \"-1\"\n          if (Ext.isEmpty(projectId)) {\n            projectId = '-1';\n          }\n          if(orgId===''){\n            return;\n          }\n          \n          var _empId = '{#XIP.empId#}' ;\n          var json = {\n            'APP_IP':'{#appIP#}',\n            'loginName':'{#XIP.userName#}',\n            'AP_DOC_CAT_NAME':'{#po_pur_cgsq#}',\n            'PC_A_FORM':pcApproveForm,\n            'M_A_FORM'\t:mobileApproveForm,\n            'poCatCode':apDocCatCode,\n            'DEPT_NAME':deptName,\n            'AMT':amount,\n            'e_business_id':rows[0].data.PUR_AP_H_ID,\n            'billType': apDocCatCode,\n            'PROJECT_ID'   : projectId,\n            'EMP_ID'       : _empId,\n            'ledgerId'     : ledgerId,\n            'DEPT_ID'      : deptId,\n            'ORG_ID'\t: orgId\n          };\n          if(auditStatus === 'A'){//起草状态\n            XipWf.startAndSubmitByProcess(processCode,json,function(e){//提交流程\n              if(e.flag === 0){\n                app.queryBtn.fireEvent('click');\n                Wb.toast('{#po_pur_submit_success#}');\n              }\n              else if(e.flag === 1){\n                Wb.toast(e.msg) ;\n              }else{}\n            });\n          }\n          else if(auditStatus === 'D'){//驳回状态\n            XipWf.submitInstance(rows[0].data.INS_CODE,json,function(e){//提交流程\n              if(e.flag === 0){\n                app.queryBtn.fireEvent('click');\n                Wb.toast('{#po_pur_submit_success#}');\n                app.queryBtn.fireEvent('click');\n              }\n              else if(e.flag === 1){\n                Wb.toast(e.msg) ;\n              }else{}\n            });\n          }else if(auditStatus === 'R'){//撤回状态\n            // 撤回 -> 按流程实例提交流程\n            XipWf.restartAndSubmitByProcess(rows[0].data.INS_CODE,processCode,json,function(e){\n              if(e.flag === 0){\n                //app.submitButton.setDisabled(true);\n                Wb.toast('{#po_pur_submit_success#}');\n                app.queryBtn.fireEvent('click');\n              }\n              else if(e.flag === 1){\n                Wb.toast(e.msg) ;\n              }else{}\n            },null);\n          }\n          else if(auditStatus === 'E' || auditStatus === 'C'){//运行中、结束状态\n            Wb.toast('{#po_pur_can_not_submit#}');\n            return false;\n          }\n          else{\n            Wb.toast('{#po_pur_submit_fail#}');\n            return false;\n          }\n        }\n      }else if(response.flag=='1'){\n        Wb.toast(response.msg);\n      }\n\n    }\n  });\n\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item5"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_revoke#}","itemId":"revokeBtn","iconCls":"cancel_icon"},"events":{"click":"var rows=app.purHGrid.getSelection();\nif(rows.length != 1){\n  Wb.toast('{#po_pur_edit_record#}');\n  return;\n}\nif(rows[0].data.INS_CODE === null || rows[0].data.INS_CODE === '') {\n  Wb.toast('{#po_pur_ins_code_null#}');\n  return;\n}\nelse if(rows[0].data.AUDIT_STATUS === 'E') {\n  Wb.toast('{#po_pur_already_audited#}');\n  return;\n}\nelse if(rows[0].data.AUDIT_STATUS === 'R'){\n  Wb.toast('{#po_pur_already_revoke#}');\n  return false;\n}else if(rows[0].data.AUDIT_STATUS === 'A'){\n  Wb.toast('{#po_pur_draft_status#}');\n  return false;\n}else if(rows[0].data.AUDIT_STATUS === 'D'){\n  Wb.toast('{#po_pur_draft_status#}');\n  return false;\n}\nelse {\n  //撤回流程\n  XipWf.revokeByInstance(rows[0].data.INS_CODE,function(e){\n    Wb.toast(e.msg);\n    app.purHGrid.getStore().reload();\n  });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item6"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_monitor#}","itemId":"monitorBtn","iconCls":"viewport_icon"},"events":{"click":"var rows = app.purHGrid.getSelection();\nif(rows.length != 1){\n\tWb.toast('{#po_pur_edit_record#}');\n}\nelse{\n    if(rows[0].data.INS_CODE === null || rows[0].data.INS_CODE === ''){\n        Wb.toast('{#po_pur_ins_code_null#}');\n\t}\n    else{\n        XipWf.showMonitorPage(rows[0].data.INS_CODE);\n    }   \n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item7"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#po_pur_close#}","itemId":"closeBtn","iconCls":"stop_icon"},"events":{"click":"var recs = app.purHGrid.getSelection();//获取选择的行数\nif(recs.length<1){\n  Wb.toast('{#po_pur_select_one_record#}');\n  return;\n}\n\nvar ids = [];//申请单ID数组\nvar flag = false;//是否有草稿状态的申请单\nfor(var i=0;i<recs.length;i++){\n  var id = {'PUR_AP_H_ID':recs[i].data.PUR_AP_H_ID};\n  var status = recs[i].data.AUDIT_STATUS;\n  if (status == 'R') {flag = true;}\n  ids.push(id);\n}\nif (flag) {\n  Wb.toast('{#cgztbngb_qzjsc#}');//草稿状态不能关闭，请直接删除\n  return false;\n}\nWb.request({\n  url:'{#contextPath#}'+'/poPurApHAction.do?method=editPurIsClose',\n  params:{'ids':ids,'IS_CLOSE':'Y'},\n  success:function(resp){\n    var response = Wb.decode(resp.responseText);\n    if(response.flag=='0'){\n      Wb.toast('{#po_pur_close_success#}');\n      app.purHGrid.store.reload();\n    }else{\n      Wb.toast(response.msg);\n    }\n  }\n});"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"toolbar"},{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"{#po_pur_rowNum#}","align":"center","width":"50","xtype":"rownumberer","titleAlign":"center","itemId":"rowNum"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_h_id#}","hidden":"true","dataIndex":"PUR_AP_H_ID","titleAlign":"center","itemId":"PUR_AP_H_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_code#}","width":"150","dataIndex":"PUR_AP_H_CODE","titleAlign":"center","itemId":"PUR_AP_H_CODE_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_h_name#}","width":"150","dataIndex":"PUR_AP_H_NAME","titleAlign":"center","itemId":"PUR_AP_H_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_amount#}","align":"right","dataIndex":"AMOUNT","titleAlign":"center","itemId":"AMOUNT_COL","renderer":"return Wb.format(value,'00,000.00');"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_org_id#}","hidden":"true","dataIndex":"ORG_ID","titleAlign":"center","itemId":"ORG_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_ledger_id#}","hidden":"true","dataIndex":"LEDGER_ID","titleAlign":"center","itemId":"LEDGER_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_project_id#}","hidden":"true","dataIndex":"PROJECT_ID","titleAlign":"center","itemId":"PROJECT_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_project_name#}","width":"150","dataIndex":"PROJECT_NAME","titleAlign":"center","itemId":"PROJECT_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_dept_id#}","hidden":"true","dataIndex":"DEPT_ID","titleAlign":"center","itemId":"DEPT_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_dept_name#}","width":"150","dataIndex":"DEPT_NAME","titleAlign":"center","itemId":"DEPT_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_ins_code#}","hidden":"true","dataIndex":"INS_CODE","titleAlign":"center","itemId":"INS_CODE_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"CREATED_BY","hidden":"true","dataIndex":"CREATED_BY","titleAlign":"center","itemId":"CREATED_BY_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_creat_by#}","dataIndex":"CREATED_BY_NAME","titleAlign":"center","itemId":"CREATED_BY_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"AUDIT_STATUS","hidden":"true","dataIndex":"AUDIT_STATUS","titleAlign":"center","itemId":"AUDIT_STATUS_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_audit_status#}","hidden":"true","dataIndex":"AUDIT_STATUS_DESC","titleAlign":"center","itemId":"AUDIT_STATUS_DESC_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"SYS_AUDIT_STATUS","hidden":"true","dataIndex":"SYS_AUDIT_STATUS","titleAlign":"center","itemId":"SYS_AUDIT_STATUS_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_status#}","dataIndex":"SYS_AUDIT_STATUS_DESC","titleAlign":"center","itemId":"SYS_AUDIT_STATUS_DESC_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_doc_date#}","dataIndex":"DOCUMENT_DATE","titleAlign":"center","itemId":"DOCUMENT_DATE_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_org#}","hidden":"true","dataIndex":"ORG_NAME","titleAlign":"center","itemId":"ORG_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#po_pur_if_close#}","dataIndex":"IS_CLOSE","titleAlign":"center","itemId":"IS_CLOSE_COL","renderer":"if(value=='Y') return '{#po_pur_yes#}';\nif(value=='N') return '{#po_pur_no#}';"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}