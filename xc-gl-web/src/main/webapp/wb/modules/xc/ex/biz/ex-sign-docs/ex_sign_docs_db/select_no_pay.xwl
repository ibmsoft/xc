{"inframe":false,"title":"查询所有付款单据","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","itemId":"module"},"children":[{"configs":{"oracle":"SELECT \n       head.V_ATTCH_TOTAL,\n       pay.LEDGER_ID,\n       pay.EX_PAY_ID,\n       pay.LEDGER_ID,\n       ledger.LEDGER_NAME,\n       pay.EX_PAY_CODE,\n       pay.EX_PAY_DESC,\n\n\t   pay.DEPOSIT_BANK_ID,\n       bank.DEPOSIT_BANK_NAME,\n       bank.BANK_ACCOUNT,\n\n       modes.MODE_NAME,\n       pay.PAY_TYPE,\n\n       to_char(pay.EX_PAY_DATE,'yyyy-mm-dd') AS EX_PAY_DATE,\n\n\t   pay.EX_PAY_T_AMT,\n\n       pay.V_HEAD_ID,\n       head.V_ATTCH_TOTAL,\n       head.VERFY_DATE,\n\n       pay.V_STATUS,\n       pay.PAY_STATUS,\n       pay.FIN_USER_ID,\n       pay.FIN_DATE,\n\n       pay.VERIFIER_ID,\n       pay.VERFY_DATE,\n\n       pay.SIGNATORY_ID,\n       pay.SIGNATORY,\n\n       to_char(pay.SIGN_DATE,'yyyy-mm-dd') AS SIGN_DATE,\n       pay.CREATED_BY,\n\n       to_char(pay.CREATION_DATE,'yyyy-mm-dd') AS CREATION_DATE,\n       emp.EMP_NAME AS CREATED_NAME\n\n\nFROM xc_ex_pay pay\nLEFT JOIN xip_pub_users xipuser ON xipuser.USER_ID = pay.CREATED_BY\nLEFT JOIN xip_pub_emps emp ON xipuser.EMP_ID = emp.EMP_ID\nLEFT JOIN xc_gl_ledgers ledger ON pay.LEDGER_ID = ledger.LEDGER_ID\nLEFT JOIN xc_gl_ld_deposit_bank bank ON pay.DEPOSIT_BANK_ID = bank.DEPOSIT_BANK_ID\nLEFT JOIN xc_gl_v_heads head ON pay.V_HEAD_ID = head.V_HEAD_ID\n\nLEFT JOIN xc_gl_pr_modes modes ON pay.PAY_TYPE = modes.MODE_ID\n\n WHERE pay.LEDGER_ID = {?ledger_id?}\n   AND (nvl(pay.EX_PAY_CODE,'%') like '%{#pay_code#}%'\n        OR nvl(pay.EX_PAY_DESC,'%') like '%{#pay_code#}%')\n   AND nvl(emp.EMP_NAME,'%') like '%{#emp_name#}%'\n   AND pay.V_STATUS = '3'\n   AND (pay.SIGNATORY_ID IS NULL OR pay.SIGNATORY_ID = '')\n   AND (pay.SIGNATORY IS NULL OR pay.SIGNATORY = '')\n\nORDER BY  pay.EX_PAY_DATE DESC","itemId":"sqlswitcher1","mysql":"SELECT \n       head.V_ATTCH_TOTAL,\n       pay.LEDGER_ID,\n       pay.EX_PAY_ID,\n       pay.LEDGER_ID,\n       ledger.LEDGER_NAME,\n       pay.EX_PAY_CODE,\n\t   pay.EX_PAY_DESC,\n\n\t   pay.DEPOSIT_BANK_ID,\n       bank.DEPOSIT_BANK_NAME,\n       bank.BANK_ACCOUNT,\n\n       modes.MODE_NAME,\n       pay.PAY_TYPE,\n\n       DATE_FORMAT(pay.EX_PAY_DATE,'%Y-%m-%d') AS EX_PAY_DATE,\n\n       pay.EX_PAY_T_AMT,\n\n       pay.V_HEAD_ID,\n       head.V_ATTCH_TOTAL,\n       head.VERFY_DATE,\n\n       pay.V_STATUS,\n       pay.PAY_STATUS,\n       pay.FIN_USER_ID,\n       pay.FIN_DATE,\n\n       pay.VERIFIER_ID,\n       pay.VERFY_DATE,\n\n       pay.SIGNATORY_ID,\n       pay.SIGNATORY,\n\n       DATE_FORMAT(pay.SIGN_DATE,'%Y-%m-%d') AS SIGN_DATE,\n       pay.CREATED_BY,\n\n       DATE_FORMAT(pay.CREATION_DATE,'%Y-%m-%d') AS CREATION_DATE,\n       emp.EMP_NAME AS CREATED_NAME\n\n\n  FROM xc_ex_pay pay\nLEFT JOIN xip_pub_users xipuser ON xipuser.USER_ID = pay.CREATED_BY\nLEFT JOIN xip_pub_emps emp ON xipuser.EMP_ID = emp.EMP_ID\nLEFT JOIN xc_gl_ledgers ledger ON pay.LEDGER_ID = ledger.LEDGER_ID\nLEFT JOIN xc_gl_ld_deposit_bank bank ON pay.DEPOSIT_BANK_ID = bank.DEPOSIT_BANK_ID\nLEFT JOIN xc_gl_v_heads head ON pay.V_HEAD_ID = head.V_HEAD_ID\n\nLEFT JOIN xc_gl_pr_modes modes ON pay.PAY_TYPE = modes.MODE_ID\n\n WHERE pay.LEDGER_ID = {?ledger_id?}\n   AND (IFNULL(pay.EX_PAY_CODE,'%') like '%{#pay_code#}%'\n        OR IFNULL(pay.EX_PAY_DESC,'%') like '%{#pay_code#}%')\n   AND IFNULL(emp.EMP_NAME,'%') like '%{#emp_name#}%'\n   AND pay.V_STATUS = '3'\n   AND (pay.SIGNATORY_ID IS NULL OR pay.SIGNATORY_ID = '')\n   AND (pay.SIGNATORY IS NULL OR pay.SIGNATORY = '')\n\nORDER BY  pay.EX_PAY_DATE DESC"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher1#}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":"seek_icon"}