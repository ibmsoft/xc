{"inframe":false,"title":"我的报销单","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xc/ex/qry/ex-my-doc-qry/XC_EX_MY_DOC_QRY\");\n// TODO: 系统根目录\nrequest.setAttribute(\"ctxPath\", request.getContextPath()) ;\n\n// TODO: 访问路径\nvar protocol = request.getProtocol() ;\nvar ipAddr = request.getServerName();\nvar port = request.getServerPort() ;\nvar ctxPath = request.getContextPath() ;\n\nvar pp = protocol.substr(0,5) ;\nprotocol = (pp.indexOf(\"https\") == -1 ? \"http\" : \"https\") ;\n\nvar url = protocol + \"://\" + ipAddr +\":\" + port + ctxPath ;\nrequest.setAttribute(\"appIP\",url);\n","itemId":"module"},"events":{"initialize":"// TODO: 提交流程审批\nfunction submitDoc(r, response){\n  \n  var ledger_id = r.LEDGER_ID;\t\t// 账簿ID\n  var amt = r.AMOUNT;\t\t\t\t// 金额\n  var ex_cat_code = r.EX_CAT_CODE;\t// 单据类型编码\n  var ex_doc_id = r.EX_DOC_ID;\t\t// 单据ID\n  var dept_name = r.DEPT_NAME;\t\t// 成本中心\n  var audit_status = r.AUDIT_STATUS;\t// 审批状态\n  var ins_code = r.INS_CODE;\t\t\t// 实例编码\n  var deptId = r.DEPT_ID;\t\t\t\t// 成本中心ID\n  var empId = r.EMP_ID;\t\t\t\t// 员工ID\n  var prjId = r.PROJECT_ID;\t\t\t// 项目ID \n  var orgId = r.ORG_ID;\t\t\t\t// 组织ID\n  var apply_doc_id = r.APPLY_EX_DOC_ID ; // 费用申请单ID\n  \n  \n  // 取得流程编码、电脑端审批表单和移动端审批表单\n  var processCode = response.PROCESS_CODE ;\n  var catName = response.EX_CAT_NAME ;\n  var pcApproveForm = response.PC_A_FORM_URL ;\n  var mobileApproveForm = response.M_A_FORM_URL ;\n\n  // 电脑端和移动端审批表单为变量需要设置为全路径\n  pcApproveForm = '{#appIP#}' +  pcApproveForm ;\n  mobileApproveForm = '{#appIP#}' +  mobileApproveForm ;\n\n  // 如果流程编码存在, 则提交流程审批处理\n  if(processCode !== \"\" && processCode !== null && processCode !== undefined){\n\n    // 如果项目未指定，则设置默认值为 \"-1\"\n    if(prjId === null || prjId === \"\" || prjId === undefined){\n      prjId = \"-1\" ;\n    }\n\n    // 流程业务实体属性赋值\n    var json = {\n      'AMT'          : amt,\n      'APP_IP'       : '{#appIP#}',\n      'DEPT_ID'      : deptId ,\n      'DEPT_NAME'    : dept_name,\n      'EMP_ID'       : empId,\n      'EX_CAT_NAME'  : catName,\n      'loginName'    : '{#XIP.userName#}',\n      'M_A_FORM'     : mobileApproveForm,\n      'ORG_ID'       : orgId,\n      'PC_A_FORM'    : pcApproveForm,\n      'PROJECT_ID'   : prjId,\n      'e_business_id': ex_doc_id,\n      'billType'     : ex_cat_code,\n      'ledgerId'     : ledger_id,\n      'APPLY_DOC_ID' : apply_doc_id\n    } ;      \n\n    // 根据单据审批状态码执行提交处理;  状态码：A起草 C运行 E结束 D驳回 R撤回\n    if(audit_status == 'A'){\n      // 起草 -> 提交流程\n      XipWf.startAndSubmitByProcess(processCode,json,function(e){\n        if(e.flag === 0){\n          Wb.toast('提交成功'); \n          app.queryBtn.fireEvent('click');\n        }else{\n          Wb.toast(e.msg) ;\n        }\n      });\n    }else if(audit_status == 'D'){\n      // 驳回 -> 按流程实例提交流程\n      XipWf.submitInstance(ins_code,json,function(e){\n        if(e.flag === 0){\n          Wb.toast('提交成功');\n          app.queryBtn.fireEvent('click') ;\n        }else{\n          Wb.toast(e.msg);\n        }\n      },null);\n    }else if(audit_status == 'R'){\n      // 撤回 -> 按流程实例启动并提交流程\n      XipWf.restartAndSubmitByProcess(ins_code,processCode,json,function(e){\n        if(e.flag === 0){\n          Wb.toast('提交成功');\n          app.queryBtn.fireEvent('click') ;\n        }else{\n          Wb.toast(e.msg);\n        }\n      },null);\n    }\n  }else{\n    Wb.toast(catName+'未指定审批流程, 请确认') ;\n  }  \n  \n}"},"children":[{"configs":{"layout":"border","itemId":"viewport1"},"children":[{"configs":{"region":"north","border":"true","itemId":"queryForm"},"children":[{"configs":{"layout":"column","border":"false","padding":"10 10 10 10 ","itemId":"panel1"},"children":[{"configs":{"labelWidth":"60","displayField":"LEDGER_NAME","width":"350","valueField":"LEDGER_ID","labelAlign":"right","itemId":"ledger","fieldLabel":"{#ledger#}"},"events":{"select":"// TODO: 加载数据并启用增加按钮\napp.queryBtn.fireEvent('click') ;"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xc/com-qry/gl-ledgers/select-fd-ledgers-by-hr"},"events":{"load":"if(store.getCount() == 1){\n  var id = records[0].data.LEDGER_ID ;\n  Wb.setValue(app.ledger,{'ledger': id}) ;\n}"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"combo"},{"configs":{"labelWidth":"80","displayField":"EX_CAT_NAME","valueField":"EX_CAT_CODE","labelAlign":"right","itemId":"doc_cat","fieldLabel":"{#doc_cat#}"},"events":{"select":"// TODO: 加载数据\napp.queryBtn.fireEvent('click') ;"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xc/ex/common-db/query/select-ld-ex-cats"},"events":{"beforeload":"store.proxy.extraParams.ledgerId = app.ledger.getValue() ;"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"combo"},{"configs":{"labelWidth":"90","width":"300","labelAlign":"right","itemId":"code_reason","fieldLabel":"{#code_reason#}"},"events":{"specialkey":"// TODO: 回车事件\nif(Ext.EventObject.getKey()==13){\n  app.queryBtn.fireEvent('click');\n}"},"children":[],"expanded":false,"type":"text"},{"configs":{"text":"{#queryBtn#}","itemId":"queryBtn","iconCls":"seek_icon","x":"20"},"events":{"click":"// TODO: 执行查询处理\napp.grid1.getStore().load();"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#resetBtn#}","itemId":"resetBtn","iconCls":"refresh_icon","x":"30"},"events":{"click":"// TODO: 重置查询条件并查询单据列表\napp.queryForm.getForm().reset();\napp.queryBtn.fireEvent('click') ;\n"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"form"},{"configs":{"region":"center","selType":"checkboxmodel","itemId":"grid1"},"events":{"itemdblclick":"app.editBtn.fireEvent('click');"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xc/ex/qry/ex-my-doc-qry/data/select-my-docs"},"events":{"beforeload":"// 处理空值\nvar _ledgerId = app.ledger.getValue() ;\nif(_ledgerId === null || _ledgerId === \"\" || _ledgerId === undefined){\n  _ledgerId = 'ALL' ;\n}\nvar _docCat = app.doc_cat.getValue() ;\nif(_docCat === null || _docCat === \"\" || _docCat === undefined){\n  _docCat = 'ALL' ;\n}\n// 初始化参数\nstore.proxy.extraParams.ledgerId = _ledgerId ;\nstore.proxy.extraParams.docCat = _docCat ;\nstore.proxy.extraParams.textStr = app.code_reason.getValue();"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"{#addBtn#}","itemId":"addBtn","iconCls":"file_add_icon"},"events":{"menubeforeshow":"// TODO: 获取账簿下已启用的单据类型\nvar _ledgerId = app.ledger.getValue()  ;\nif(_ledgerId === \"\" || _ledgerId === null || _ledgerId === undefined){\n  Wb.toast('请选择账簿') ;\n  return false ;\n}\nWb.request({\n  url: 'm?xwl=xc/ex/common-db/query/select-ld-ex-cats',\n  timeout:3600000,\n  async  : false,\n  params: {\n    'ledgerId' : app.ledger.getValue() \n  },\n  success: function(resp) {\n    var response = Wb.decode(resp.responseText);\n    var rows = response.rows ;\n    if(rows.length === 0){\n      return false ;\n    }\n    // 动态生成按钮\n    menu.removeAll();\n    Wb.each(rows, function(r){\n      var catCode = r.EX_CAT_CODE ;\n      var formUrl = r.PC_W_FORM_URL ; // PC端填报表单\n      var catName = r.EX_CAT_NAME ;  // 单据类型\n      // 定义按钮\n      var myItem = Ext.create('Ext.menu.Item', {\n          text    : catName,\n          iconCls : 'new_icon',\n          handler : function() {\n            if(formUrl === null || formUrl === \"\" || formUrl === undefined){\n              // 如果表单不存在\n              Wb.info(\"【\"+catName+'】未设置电脑端填报表单,请在费用报销的【单据类型】功能处设置!') ;\n              \n            }else{\n              // 如果表单存在则填报单据\n              Wb.run({\n                url : formUrl.substring(1),\n                params : {\n                  'exDocId'    : '',\n                  'opMode'     : 'add',\n                  'accessPage' : 'list'\n                },\n                success:function(appObj){\n                  appObj.initWindow({\n                    loadDocGrid : function(){\n                      // 加载单据列表\n                      app.queryBtn.fireEvent('click') ;\n                    }\n                  });\n                }\n              });\n            }\n          }\n      }) ;      \n      menu.add(myItem) ;\n    }) ;\n  }\n}); \n"},"children":[{"configs":{"text":"{#addMenu#}","itemId":"addMenu","iconCls":"rss_icon"},"children":[],"expanded":false,"type":"item"}],"expanded":true,"type":"button"},{"configs":{"text":"{#editBtn#}","itemId":"editBtn","iconCls":"file_edit_icon"},"events":{"click":"// TODO: 执行编辑处理\nvar selRow = app.grid1.getSelection() ;\nif(selRow.length != 1){\n  Wb.toast('请选择 1 条待修改的单据') ;\n}else{\n  var r = selRow[0] ;\n  var exDocId = r.data.EX_DOC_ID ;\n  // 表单地址\n  var formUrl = r.data.PC_W_FORM_URL ;\n  if(formUrl === null || formUrl === \"\" || formUrl === undefined){\n    var catName = r.data.EX_CAT_NAME ;\n    Wb.toast(catName + \" 未设置PC端填报表单,请到【单据类型】功能处设置\") ;\n    return false ;\n  }\n  // 打开编辑界面\n  Wb.run({\n    url : formUrl.substring(1),\n    params : {\n      'exDocId'    : exDocId,\n      'opMode'     : 'edit',\n      'accessPage' : 'list'\n    },\n    success:function(appObj){\n      appObj.initWindow({\n        loadDocGrid : function(){\n          // 加载单据列表\n          app.queryBtn.fireEvent('click') ;\n        }\n      });\n    }\n  });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#delBtn#}","itemId":"delBtn","iconCls":"file_delete_icon"},"events":{"click":"// 选中记录行\nvar rows = app.grid1.getSelection();\nif(rows.length < 1){\n  Wb.toast('请选择待删除单据');\n  return false;\n  \n}else{\n  // 数据校验\n  var delRecords = [];\n  var i = 0 ;\n  var msgStr = \"编号为：\" ;\n  Wb.each(rows,function(r){\n    if(r.data.AUDIT_STATUS == 'E' || r.data.AUDIT_STATUS == 'C'){\n      var exDocCode = r.data.EX_DOC_CODE ;\n      msgStr += exDocCode+\",\" ;\n      i++ ;\n    }else{\n      var line = {'EX_DOC_ID':r.data.EX_DOC_ID} ;\n      delRecords.push(line);\n    }\n  });\n\n  // 判断是否存在不符合删除条件的数据\n  if(i > 0){\n    Wb.toast(msgStr+\" 单据已提交不能删除\");\n    return false ;\n\n  }else{\n    // 执行删除处理\n    Ext.Msg.confirm('提示','您确定要删除所选单据吗?',function(id){\n      if(id=='yes'){\n        // 进度条\n        var msg = Ext.MessageBox.show({\n          title:'请等待',\n          msg:'正在提交请求，请稍后...',\n          width:240,\n          wait:true,\n          progress :true,\n          closable :false\n        });\n        // 提交请求\n        Wb.request({\n          url : '{#ctxPath#}'+'/exDocsAction.do?method=delDoc',\n          timeout : 3600000,\n          params  : {\n            'params' : Wb.encode(delRecords)\n          },\n          success: function(resp) {\n            msg.hide();\n            var response = Wb.decode(resp.responseText) ;\n            if(response.flag == \"0\"){\n              app.grid1.getStore().load() ;\n            }\n            Wb.toast(response.msg) ;\n          }\n        });\n      }\n    });\n  }\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#copyBtn#}","itemId":"copyBtn","iconCls":"record_copy_icon"},"events":{"click":"// TODO: 执行编辑处理\nvar selRow = app.grid1.getSelection() ;\nif(selRow.length != 1){\n  Wb.toast('请选择 1 条报销单据') ;\n}else{\n  var r = selRow[0] ;\n  var exDocId = r.data.EX_DOC_ID ;\n  // 表单地址\n  var formUrl = r.data.PC_W_FORM_URL ;\n  if(formUrl === null || formUrl === \"\" || formUrl === undefined){\n    var catName = r.data.EX_CAT_NAME ;\n    Wb.toast(catName + \" 未设置PC端填报表单,请到【单据类型】功能处设置\") ;\n    return false ;\n  }\n  // 打开编辑界面\n  Wb.run({\n    url : formUrl.substring(1),\n    params : {\n      'exDocId'    : exDocId,\n      'opMode'     : 'copy',\n      'accessPage' : 'list'\n    },\n    success:function(appObj){\n      appObj.initWindow({\n        loadDocGrid : function(){\n          // 加载单据列表\n          app.queryBtn.fireEvent('click') ;\n        }\n      });\n    }\n  });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#submitBtn#}","itemId":"submitBtn","iconCls":"backup_start_icon"},"events":{"click":"// TODO: 获取选中行记录\nvar rows = app.grid1.getSelection();\nif(rows.length != 1 ){\n  Wb.toast('请选择 1 条需要提交流程审批的单据');\n  return false; \n}\n\n// TODO: 取得选中行记录信息\nvar r = rows[0].data ;\n// 审批状态\nvar audit_status = r.AUDIT_STATUS;\t\n\nif(audit_status === 'C'){\n  Wb.toast('单据已提交审批');\n  return false ;\n  \n}else if(audit_status == 'E'){\n  Wb.toast('单据已完成审批');\n  return false ;\n  \n}else{\n  // 账簿是否启用预算检查\n  var BG_IS_CHK = r.BG_IS_CHK ;\n  if(BG_IS_CHK === \"\" || BG_IS_CHK === null || BG_IS_CHK === undefined){\n    BG_IS_CHK = 'N' ;\n  }\n  \n  // 获取单据类型绑定的流程及审批表单信息\n  Wb.request({\n    url    : '{#ctxPath#}'+'/exDocsAction.do?method=getProcAndFormsByCat',\n    async  : true,\n    timeout: 3600000,\n    params : {\n      'ledgerId' : r.LEDGER_ID,\n      'docCat'   : r.EX_CAT_CODE,\n      'isChkBg'  : BG_IS_CHK,\n      'exDocId'  : r.EX_DOC_ID\n    },\n    success: function(resp) {\n      var response = Wb.decode(resp.responseText) ;\n      if(response.flag == \"0\"){\n        var phase = response.phase ;\n        if(phase === 'BGCHK'){\n          var chkFlag = response.chkFlag;\n          if(chkFlag === \"-1\"){ // 绝对控制\n              Wb.info(response.msg) ;\n              return ;\n          }else if(chkFlag === \"1\"){ // 预警控制\n              Ext.Msg.confirm('警告',response.msg,function(id){\n                if(id=='yes'){\n                  submitDoc(r, response) ;\n                }\n              });\n          }\n        }else{\n          submitDoc(r, response) ;\n        }\n      }else{\n        Wb.toast(response.msg) ;\n      }\n    }\n  });  \n}"},"children":[],"expanded":true,"type":"button"},{"configs":{"text":"{#monitorBtn#}","itemId":"monitorBtn","iconCls":"viewport_icon"},"events":{"click":"// TODO: 选中记录行\nvar rows = app.grid1.getSelection();\nif(rows.length != 1){\n  Wb.toast('请选择 1 条需要监控流程审批的单据');\n}else{\n  var insCode= rows[0].data.INS_CODE ;\n  if(insCode !== null && insCode !== \"\" && insCode !== undefined){\n    // 打开流程监控图\n    XipWf.showMonitorPage(rows[0].data.INS_CODE);\n    \n  }else{\n    Wb.toast('单据尚未提交审批');\n  }\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#revokeBtn#}","itemId":"revokeBtn","iconCls":"cancel_icon"},"events":{"click":"// TODO: 流程撤回处理\nvar rows=app.grid1.getSelection();\nif(rows.length!=1){\n  Wb.toast('请选择 1 条需要撤回流程审批的单据');\n  return false ;\n  \n}else{\n  var r = rows[0].data ;\n  var auditStatus = r.AUDIT_STATUS ;\n  if(auditStatus == 'A'){\n    Wb.toast('单据尚未提交审批');\n    \n  }else if(auditStatus == 'D'){\n    Wb.toast('单据审批流程已驳回');\n    \n  }else if(auditStatus == 'R'){\n    Wb.toast('单据审批流程已撤回');\n    \n  }else if(auditStatus == 'C'){\n    // 撤回流程\n    XipWf.revokeByInstance(r.INS_CODE,function(e){\n      Wb.toast(e.msg);\n      app.grid1.getStore().reload();\n    });\n    \n  }else if(auditStatus == 'E'){\n    Wb.toast('单据审批流程已完成');\n  }  \n}\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#attchBtn#}","itemId":"attchBtn","iconCls":"attach_icon"},"events":{"click":"// TODO: 单据添加附件处理\nvar recs = app.grid1.getSelection();\n\nif(recs.length != 1){\n  Wb.toast('请选择 1 条需要挂载附件的单据');\n  return false;\n  \n}else{\n  var r = recs[0].data ;\n  \n  // 获取附件分类\t\n  Wb.request({\n    url : '{#ctxPath#}'+'/exDocsAction.do?method=getProcAndFormsByCat',\n    timeout : 3600000,\n    params: {\n      'ledgerId' : r.LEDGER_ID,\n      'docCat'   : r.EX_CAT_CODE\n    },\n    success: function(resp) {\n      var response = Wb.decode(resp.responseText) ;\n      var attCat = response.ATT_CAT_CODE ;\n      if(response.flag === \"0\"){\n        if(attCat === null || attCat === \"\" || attCat === undefined){\n          var catName = r.EX_CAT_NAME ;\n          Wb.toast(catName + '未设置附件分类') ;\n        }else{\n          var ex_doc_id = r.EX_DOC_ID;\n          var ex_doc_code = r.EX_DOC_CODE;\n          // 挂载附件\n          Xip.showAttachmentManager('{#XIP.userId#}',ex_doc_id,'',attCat,ex_doc_code,'Y','Y','Y',function(){},2);\n        }\n      }else{\n        Wb.toast(response.msg) ;\n      }\n    }\n  });\n}\n\n"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"toolbar"},{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"{#rownum#}","align":"center","width":"50","xtype":"rownumberer","titleAlign":"center","itemId":"rownum"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#LEDGER_ID_COL#}","hidden":"true","dataIndex":"LEDGER_ID","itemId":"LEDGER_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#ORG_ID_COL#}","hidden":"true","dataIndex":"ORG_ID","itemId":"ORG_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#PROJECT_ID_COL#}","hidden":"true","dataIndex":"PROJECT_ID","itemId":"PROJECT_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EX_DOC_ID_COL#}","hidden":"true","dataIndex":"EX_DOC_ID","titleAlign":"center","itemId":"EX_DOC_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EX_DOC_CODE_COL#}","width":"120","dataIndex":"EX_DOC_CODE","titleAlign":"center","itemId":"EX_DOC_CODE_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EX_REASON_COL#}","width":"150","dataIndex":"EX_REASON","titleAlign":"center","itemId":"EX_REASON_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#CREATED_BY_COL#}","hidden":"true","dataIndex":"CREATED_BY","titleAlign":"center","itemId":"CREATED_BY_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EMP_ID_COL#}","hidden":"true","dataIndex":"EMP_ID","itemId":"EMP_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EMP_NAME_COL#}","hidden":"true","dataIndex":"EMP_NAME","titleAlign":"center","itemId":"EMP_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#DEPT_ID_COL#}","hidden":"true","dataIndex":"DEPT_ID","titleAlign":"center","itemId":"DEPT_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#DEPT_NAME_COL#}","dataIndex":"DEPT_NAME","titleAlign":"center","itemId":"DEPT_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#CREATION_DATE_COL#}","dataIndex":"CREATION_DATE","titleAlign":"center","itemId":"CREATION_DATE_COL","renderer":"return Ext.Date.format(value,'Y-m-d');"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#AMOUNT_COL#}","align":"right","dataIndex":"AMOUNT","format":"00,000.00","titleAlign":"center","itemId":"AMOUNT_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EX_CAT_CODE_COL#}","hidden":"true","dataIndex":"EX_CAT_CODE","titleAlign":"center","itemId":"EX_CAT_CODE_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#EX_CAT_NAME_COL#}","dataIndex":"EX_CAT_NAME","titleAlign":"center","itemId":"EX_CAT_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#AUDIT_STATUS_COL#}","hidden":"true","dataIndex":"AUDIT_STATUS","titleAlign":"center","itemId":"AUDIT_STATUS_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#AUDIT_STATUS_DESC_COL#}","dataIndex":"AUDIT_STATUS_DESC","titleAlign":"center","itemId":"AUDIT_STATUS_DESC_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#SIGN_STATUS_COL#}","dataIndex":"SIGN_STATUS","titleAlign":"center","itemId":"SIGN_STATUS_COL","renderer":"if(value == '1'){\n  return '待签收';\n}else if(value == '2'){\n  return '已签收';\n}else if(value == '3'){\n  return '拒签';\n}"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#PAY_METHOD_COL#}","dataIndex":"PAY_METHOD","titleAlign":"center","itemId":"PAY_METHOD_COL","renderer":"if(value == 'Y'){\n  return '已付款';\n}else{\n  return '未付款';\n}"},"children":[],"expanded":true,"type":"column"},{"configs":{"text":"当前审批人","width":"120","dataIndex":"ADUIT_USERS","titleAlign":"center","itemId":"ADUIT_USERS_COL"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}