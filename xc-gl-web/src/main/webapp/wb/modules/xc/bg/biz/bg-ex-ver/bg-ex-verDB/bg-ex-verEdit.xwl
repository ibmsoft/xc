{"inframe":false,"title":"费用预算版本修改","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//检查是否存在重复的BG_VER_CODE\napp.run('select 1 from xc_bg_cost_ver where BG_VER_CODE={?BG_VER_CODE?} and LEDGER_ID={?LEDGER_ID?} and BG_VER_ID <> {?BG_VER_ID?}',{\n    errorText: '预算版本编码\"' + app.get('BG_VER_CODE') + '\" 已经存在。'\n});\n//检查是否存在重复的BG_VER_NAME\napp.run('select 1 from xc_bg_cost_ver where BG_VER_NAME={?BG_VER_NAME?} and LEDGER_ID={?LEDGER_ID?} and BG_VER_ID <> {?BG_VER_ID?}',{\n    errorText: '预算版本名称\"' + app.get('BG_VER_NAME') + '\" 已经存在。'\n});","itemId":"module"},"children":[{"configs":{"sql":"UPDATE xc_bg_cost_ver SET\n    LEDGER_ID = {?LEDGER_ID?},\n    BG_VER_CODE = {?BG_VER_CODE?},\n    BG_VER_NAME = {?BG_VER_NAME?},\n    BG_VER_DESC = {?BG_VER_DESC?},\n    BG_VER_PERIOD = {?BG_VER_PERIOD?},\n    START_DATE = {?START_DATE?},\n    END_DATE = {?END_DATE?},\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\n    LAST_UPDATED_BY = {?XIP.userId?}\nWHERE BG_VER_ID = {?BG_VER_ID?}","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":"file_edit_icon"}