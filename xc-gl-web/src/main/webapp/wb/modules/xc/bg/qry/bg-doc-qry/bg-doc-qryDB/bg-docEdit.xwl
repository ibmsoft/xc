{"inframe":false,"title":"预算单修改","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"//检查是否存在重复的BG_DOC_CODE\napp.run('select 1 from xc_bg_docs where BG_DOC_CODE={?BG_DOC_CODE?} and LEDGER_ID={?LEDGER_ID?} AND BG_DOC_ID <> {?BG_DOC_ID?}',{\n    errorText: '编码\"' + app.get('BG_DOC_CODE') + '\" 已经存在。'\n});","itemId":"module"},"children":[{"configs":{"sql":"UPDATE xc_bg_docs SET\n    BG_DOC_CODE = {?BG_DOC_CODE?},\n    BG_DOC_NAME = {?BG_DOC_NAME?},\n    LEDGER_ID = {?LEDGER_ID?},\n    BG_VER_ID = {?BG_VER_ID?},\n    BG_CAT_CODE = {?BG_CAT_CODE?},\n    BG_DOC_DESC = {?BG_DOC_DESC?},\n    PROJECT_ID = {?PROJECT_ID?},\n    INS_CODE = {?INS_CODE?},\n    AUDIT_DATE = {?AUDIT_DATE?},\n    ADUIT_USERS = {?ADUIT_USERS?},\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\n    LAST_UPDATED_BY = {?XIP.userId?}\nWHERE BG_DOC_ID = {?BG_DOC_ID?}","transaction":"start","itemId":"query1"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":"file_edit_icon"}