{"inframe":false,"title":"更新预算单明细表","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var id,ids = [],\nrecsCreate = Wb.decode(request.getParameter('create'));//新增数据\nWb.each(recsCreate,function(recC){\n\tid = java.util.UUID.randomUUID();//uuId\n\trecC.BG_DTL_ID = id;\n    recC.CREATION_DATE = new Date();\n    recC.CREATED_BY = '{#XIP.userId#}';\n    recC.LAST_UPDATE_DATE = new Date();\n    recC.LAST_UPDATED_BY = '{#XIP.userId#}';\n\tids.push({\n\t\tBG_DTL_ID : id\n\t});\n});\nvar recsUpdate = Wb.decode(request.getParameter('update'));\nWb.each(recsUpdate,function(recU){\n    recU.LAST_UPDATE_DATE = new Date();\n    recU.LAST_UPDATED_BY = '{#XIP.userId#}';\n});\nrequest.setAttribute('create',Wb.encode(recsCreate));//重置create记录\nrequest.setAttribute('update',Wb.encode(recsUpdate));//重置create记录\napp.update({\n\ttableName: 'xc_bg_doc_dtl'\n});\napp.send(ids);//把id列表发送到客户端以同步到表格","itemId":"module"},"children":[],"expanded":false,"type":"module"}],"pageLink":"","iconCls":"file_edit_icon"}