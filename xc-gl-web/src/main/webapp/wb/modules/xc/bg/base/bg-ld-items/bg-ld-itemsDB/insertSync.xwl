{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"var infoArray = request.getParameter(\"infoArray\");\nvar array = Wb.decode(infoArray) ;\nvar bgArray = request.getParameter(\"bgArray\");\nvar bgArray_1 = Wb.decode(bgArray);\nvar insertSql;\nvar selectSql;\nvar deleteSql;\n//var out = java.lang.System.out;\n\nWb.each(array,function(rec){\n    var v_ledger_id = rec.LEDGER_ID;\n  \t//out.println(v_ledger_id);\n  \tWb.each(bgArray_1,function(rec){\n      var BG_ITEM_ID = rec.BG_ITEM_ID;\n      var BG_CTRL_DIM = rec.BG_CTRL_DIM;\n      var BG_CTRL_MODE = rec.BG_CTRL_MODE;\n      var IS_ENABLED = rec.IS_ENABLED;\n      insertSql = 'INSERT INTO XC_BG_LD_ITEMS (BG_LD_ITEM_ID,LEDGER_ID,BG_ITEM_ID,BG_CTRL_DIM,BG_CTRL_MODE,IS_ENABLED,CREATION_DATE,CREATED_BY,LAST_UPDATE_DATE,LAST_UPDATED_BY)VALUES(\"'+java.util.UUID.randomUUID()+'\",\"'+v_ledger_id+'\",\"'+BG_ITEM_ID+'\",\"'+BG_CTRL_DIM+'\",\"'+BG_CTRL_MODE+'\",\"'+IS_ENABLED+'\",{?timestamp.sys.date?},{?XIP.userId?},{?timestamp.sys.date?},{?XIP.userId?})';\n      selectSql = 'select count(*) c_no from XC_BG_LD_ITEMS where LEDGER_ID=\"'+v_ledger_id+'\" and BG_ITEM_ID=\"'+BG_ITEM_ID+'\"';\n      deleteSql = 'delete from XC_BG_LD_ITEMS where LEDGER_ID=\"'+v_ledger_id+'\" and BG_ITEM_ID=\"'+BG_ITEM_ID+'\"';\n      //out.println(app.run(selectSql,{}));\n      if(!app.run(selectSql,{}).next()){\n    \tapp.run(insertSql,{});\n    \t}else{\n    \tapp.run(deleteSql,{});\n      \tapp.run(insertSql,{});\n    }\n    });\n  \t\n  });\n","itemId":"module"},"children":[],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}