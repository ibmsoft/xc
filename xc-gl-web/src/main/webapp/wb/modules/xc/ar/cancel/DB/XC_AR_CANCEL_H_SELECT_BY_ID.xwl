{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"sql":"SELECT \n  a.*,\n  a.SRC_ID AR_PAY_H_ID,\n  a.SRC_ID AR_INV_GL_H_ID,\n (SELECT \n      AR_PAY_H_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID ) AR_PAY_H_CODE,\n  (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID ) AR_INV_GL_H_CODE,\n (SELECT VAL_NAME FROM xip_pub_val_set_dtl  WHERE VAL_SET_CODE='XC_GL_V_STATUS' and VAL_CODE=a.V_STATUS) V_STATUS_NAME,\n  (SELECT \n    LEDGER_NAME \n  FROM\n    xc_gl_ledgers b \n  WHERE b.LEDGER_ID = a.LEDGER_ID) LEDGER_NAME,\n  (SELECT \n    VAL_NAME \n  FROM\n    xip_pub_val_set_dtl \n  WHERE VAL_SET_CODE = 'XC_GL_V_STATUS' \n    AND VAL_CODE = a.V_STATUS) V_STATUS_NAME,\n\n  CASE\n    ar_cancel_type \n    WHEN 'YSHYUS' \n    THEN '应收核预收' \n    WHEN 'YSHYF' \n    THEN '应收核应付' \n    WHEN 'YSHLDC' \n    THEN '应收红蓝对冲' \n    WHEN 'YUSHLDC' \n    THEN '预收红蓝对冲' \n    ELSE '应收核预收' \n  END AS AR_CANCEL_TYPE_NAME,\n\t\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1)\n\tWHEN ar_cancel_type = 'YSHYF'\n\tTHEN\n\t(SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1)\n    ELSE \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS AR_DOC_CAT_CODE,\n\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_PAY_H_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1) \n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1)\n    ELSE \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS SRC_CODE ,\n CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS AR_CONTRACT_NAME,\n  \n  CASE\n    WHEN  ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' OR ar_cancel_type = 'YSHYUS' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS CUSTOMER_NAME,\n\n\n CASE\n    WHEN  ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_ID FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' OR ar_cancel_type = 'YSHYUS' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_ID FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_ID FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n    ELSE \n    (SELECT \n      (SELECT c.CUSTOMER_ID FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS CUSTOMER_ID,\n\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS DEPT_NAME,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n\tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS PROJECT_NAME\nFROM\n  xc_ar_cancel_h a  WHERE AR_CANCEL_H_ID = {?AR_CANCEL_H_ID?}","itemId":"dataprovider1","type":"object"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}