{"inframe":false,"title":"查询发票核销","hidden":false,"roles":{"default":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"itemId":"select","oracle":"select * from (\n  select t1.*, ROWNUM as \"RN\" from (\nSELECT \n  a.*,\n  CANCEL_AMT TARGET_AMT,\n  sys_guid() AP_CANCEL_L_ID, \n  {?AP_CANCEL_H_ID?} AP_CANCEL_H_ID,\n  {?AP_CANCEL_TYPE?} AP_CANCEL_TYPE,\n  b.AP_PAY_H_ID TARGET_ID,\n  b.AP_PAY_H_CODE SRC_CODE,\n  b.AP_PAY_H_CODE,\n  b.GL_DATE,\n  b.DESCRIPTION,\n  (SELECT \n    LEDGER_NAME \n  FROM\n    xc_gl_ledgers c \n  WHERE c.LEDGER_ID = b.LEDGER_ID) LEDGER_NAME,\n  (SELECT \n    VENDOR_NAME \n  FROM\n    xc_ap_vendors c \n  WHERE c.VENDOR_ID = b.VENDOR_ID) VENDOR_NAME,\n  (SELECT \n    PROJECT_NAME \n  FROM\n    xc_pm_projects c \n  WHERE c.PROJECT_ID = b.PROJECT_ID) PROJECT_NAME,\n  (SELECT \n    DEPT_NAME \n  FROM\n    xip_pub_depts c \n  WHERE c.DEPT_ID = b.DEPT_ID) DEPT_NAME,\n  (SELECT \n    AP_CONTRACT_NAME \n  FROM\n    xc_ap_contract c \n  WHERE c.AP_CONTRACT_ID = b.AP_CONTRACT_ID) AP_CONTRACT_NAME,\n  b.AMOUNT,\n  (SELECT \n    b.AMOUNT - SUM(TARGET_AMT) \n  FROM\n    xc_ap_cancel_l c \n  WHERE c.target_id = b.AP_PAY_H_ID) NO_CANCEL_AMT\nFROM\n  xc_ap_inv_pre a,\n  xc_ap_pay_h b \nWHERE a.AP_PAY_H_ID = b.AP_PAY_H_ID and a.AP_INV_H_ID = {?AP_INV_H_ID?}  \n  ) t1 where ROWNUM<={?bigint.endIndex?}\n)\nwhere RN >= {?bigint.beginIndex?}","mysql":"SELECT \n  a.*,\n  CANCEL_AMT TARGET_AMT,\n  UUID() AR_CANCEL_L_ID, \n  {?AR_CANCEL_H_ID?} AR_CANCEL_H_ID,\n  {?AR_CANCEL_TYPE?} AR_CANCEL_TYPE,\n  b.AR_PAY_H_ID TARGET_ID,\n  b.AR_PAY_H_CODE SRC_CODE,\n  b.AR_PAY_H_CODE,\n  b.GL_DATE,\n  b.DESCRIPTION,\n  b.SALE_ACC_ID,\n  (SELECT ACC_NAME FROM xc_gl_accounts WHERE ACC_ID = b.SALE_ACC_ID) SALE_ACC_NAME,\n  (SELECT \n    LEDGER_NAME \n  FROM\n    xc_gl_ledgers c \n  WHERE c.LEDGER_ID = b.LEDGER_ID) LEDGER_NAME,\n  (SELECT \n    CUSTOMER_NAME \n  FROM\n    xc_ar_customers c \n  WHERE c.CUSTOMER_ID = b.CUSTOMER_ID) CUSTOMER_NAME,\n  (SELECT \n    PROJECT_NAME \n  FROM\n    xc_pm_projects c \n  WHERE c.PROJECT_ID = b.PROJECT_ID) PROJECT_NAME,\n  (SELECT \n    DEPT_NAME \n  FROM\n    xip_pub_depts c \n  WHERE c.DEPT_ID = b.DEPT_ID) DEPT_NAME,\n  (SELECT \n    AR_CONTRACT_NAME \n  FROM\n    xc_ar_contract c \n  WHERE c.AR_CONTRACT_ID = b.AR_CONTRACT_ID) AR_CONTRACT_NAME,\n  b.AMOUNT,\n  (SELECT \n    b.AMOUNT - SUM(TARGET_AMT) \n  FROM\n    xc_ar_cancel_l c \n  WHERE c.target_id = b.AR_PAY_H_ID) NO_CANCEL_AMT\nFROM\n  xc_ar_inv_pre a,\n  xc_ar_pay_h b \nWHERE a.AR_PAY_H_ID = b.AR_PAY_H_ID    \n\tand a.AR_INV_H_ID = {?AR_INV_H_ID?}\nlimit {?bigint.start?},{?bigint.limit?}"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#select#}","totalSql":"SELECT \n  count(*)\nFROM\n  xc_ar_inv_pre a,\n  xc_ar_pay_h b \nWHERE a.AR_PAY_H_ID = b.AR_PAY_H_ID and a.AR_INV_H_ID = {?AR_INV_H_ID?}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}