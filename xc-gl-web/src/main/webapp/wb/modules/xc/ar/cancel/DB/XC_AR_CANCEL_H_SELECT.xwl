{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"var lang = request.getSession().getAttribute(\"XzSessionVars\").get(\"language\");\nrequest.setAttribute(\"language\",lang);  \nvar sql, data = app.get();\nsql = ' where 1=1 and LEDGER_ID={?LEDGER_ID?}';\nif (!Wb.isEmpty(data.AR_CANCEL_TYPE)) {\n  sql+=' and AR_CANCEL_TYPE={?AR_CANCEL_TYPE?}';\n}\nif (!Wb.isEmpty(data.CUSTOMER_NAME)) {\n  sql+=' and CUSTOMER_NAME like \\'%'+data.CUSTOMER_NAME+'%\\' ';\n}\nif (!Wb.isEmpty(data.SRC_AMT_START)) {\n  sql+=' and SRC_AMT >='+data.SRC_AMT_START;\n}\nif (!Wb.isEmpty(data.SRC_AMT_END)) {\n  sql+=' and SRC_AMT <='+data.SRC_AMT_END;\n}\nif (!Wb.isEmpty(data.DESCRIPTION)) {\n  sql+=' and DESCRIPTION like \\'%'+data.DESCRIPTION+'%\\' ';\n}\nif (!Wb.isEmpty(data.GL_DATE_START)) {\n  if (!Wb.isEmpty(data.GL_DATE_END)) {\n    sql+=' and GL_DATE BETWEEN {?GL_DATE_START?} and {?GL_DATE_END?} ';\n  }else{\n\tsql+=' and GL_DATE > {?GL_DATE_START?}';\n  }\n}else{\n\tif (!Wb.isEmpty(data.GL_DATE_END)) {\n      sql+=' and GL_DATE < {?GL_DATE_END?}';\n    }\n}\nif (!Wb.isEmpty(data.CREATED_BY_NAME)) {\n  sql+=' and CREATED_BY_NAME like \\'%'+data.CREATED_BY_NAME+'%\\' ';\n}\nif (!Wb.isEmpty(data.V_STATUS)) {\n  sql+=' and V_STATUS like \\'%'+data.V_STATUS+'%\\' ';\n}\nif(!Wb.isEmpty(data.CANCEL_CODE)){\n  sql+='and AR_CANCEL_H_CODE like \\'%'+data.CANCEL_CODE+'%\\'';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"itemId":"select","oracle":"select * from (\nSELECT \n  a.*,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.CREATED_BY)) CREATED_BY_NAME,\n\n  (SELECT \n    LEDGER_NAME \n  FROM\n    xc_gl_ledgers b \n  WHERE b.LEDGER_ID = a.LEDGER_ID) LEDGER_NAME,\n  (SELECT \n    VAL_NAME \n  FROM\n    xip_pub_val_set_dtl_lang \n  WHERE VAL_SET_CODE = 'XC_GL_V_STATUS' \n    AND VAL_CODE = a.V_STATUS and VAL_SET_LANG = '{#language#}') V_STATUS_NAME,\n  (select AR_CAT_NAME from xc_ar_doc_cats b where b.AR_CAT_CODE = a.AR_CANCEL_TYPE) AS AR_CANCEL_TYPE_NAME,\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    ELSE \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS AR_DOC_CAT_CODE,\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_PAY_H_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1)\n    ELSE \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS SRC_CODE,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS AR_CONTRACT_NAME,\n  \n  CASE\n    WHEN  ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' OR ar_cancel_type = 'YSHYUS' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS CUSTOMER_NAME,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS DEPT_NAME,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n    ELSE \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS PROJECT_NAME\nFROM\n  xc_ar_cancel_h a \n) t {#sql#}\norder by CREATION_DATE desc","mysql":"select * from (\nSELECT \n  a.*,\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID=(SELECT EMP_ID FROM XIP_PUB_USERS b WHERE b.USER_ID=a.CREATED_BY)) CREATED_BY_NAME,\n\n  (SELECT \n    LEDGER_NAME \n  FROM\n    xc_gl_ledgers b \n  WHERE b.LEDGER_ID = a.LEDGER_ID) LEDGER_NAME,\n  (SELECT \n    VAL_NAME \n  FROM\n    xip_pub_val_set_dtl_lang \n  WHERE VAL_SET_CODE = 'XC_GL_V_STATUS' \n    AND VAL_CODE = a.V_STATUS and VAL_SET_LANG = '{#language#}') V_STATUS_NAME,\n  (select AR_CAT_NAME from xc_ar_doc_cats b where b.AR_CAT_CODE = a.AR_CANCEL_TYPE) AS AR_CANCEL_TYPE_NAME,\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    ELSE \n    (SELECT \n      AR_DOC_CAT_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS AR_DOC_CAT_CODE,\n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n    WHEN ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      AR_PAY_H_CODE \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID \n    LIMIT 1) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1)\n    ELSE \n    (SELECT \n      AR_INV_GL_H_CODE \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID \n    LIMIT 1) \n  END AS SRC_CODE,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT AP_CONTRACT_NAME FROM xc_ap_contract c WHERE c.AP_CONTRACT_ID=b.AP_CONTRACT_ID) \n    FROM\n      xc_ap_inv_gl_h b \n    WHERE b.AP_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT AR_CONTRACT_NAME FROM xc_ar_contract c WHERE c.AR_CONTRACT_ID=b.AR_CONTRACT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS AR_CONTRACT_NAME,\n  \n  CASE\n    WHEN  ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' OR ar_cancel_type = 'YSHYUS' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.CUSTOMER_NAME FROM xc_ar_customers c WHERE c.CUSTOMER_ID=b.CUSTOMER_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS CUSTOMER_NAME,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n    ELSE \n    (SELECT \n      (SELECT c.DEPT_NAME FROM xip_pub_depts c WHERE c.DEPT_ID=b.DEPT_ID) \n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS DEPT_NAME,\n  \n  CASE\n    WHEN ar_cancel_type = 'YSHYUS' \n    OR ar_cancel_type = 'YUSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n    WHEN ar_cancel_type = 'YSHLDC' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID) \n  \tWHEN ar_cancel_type = 'YSHYF' \n    THEN \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_inv_gl_h b \n    WHERE b.AR_INV_GL_H_ID = a.SRC_ID)\n    ELSE \n    (SELECT \n      (SELECT c.PROJECT_NAME FROM xc_pm_projects c WHERE c.PROJECT_ID=b.PROJECT_ID)\n    FROM\n      xc_ar_pay_h b \n    WHERE b.AR_PAY_H_ID = a.SRC_ID) \n  END AS PROJECT_NAME\nFROM\n  xc_ar_cancel_h a \n) t {#sql#}\norder by CREATION_DATE desc\nlimit {?bigint.start?},{?bigint.limit?}"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#select#}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}