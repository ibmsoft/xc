{"inframe":false,"title":"入库及退货批次OR序列号表","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nif (!Wb.isEmpty(data.BUSINESS_H_ID)) {\n    sql+=' AND swbs.BUSINESS_H_ID = {?BUSINESS_H_ID?}';\n}\nif (!Wb.isEmpty(data.BUSINESS_L_ID)) {\n    sql+=' AND swbs.BUSINESS_L_ID = {?BUSINESS_L_ID?}';\n}\nif (!Wb.isEmpty(data.LOCATION_ID)) {\n    sql+=' AND swbs.LOCATION_ID = {?LOCATION_ID?}';\n}\nif (!Wb.isEmpty(data.MATERIAL_ID)) {\n    sql+=' AND swbs.MATERIAL_ID = {?MATERIAL_ID?}';\n}\nif (!Wb.isEmpty(data.SERIAL_BATCH_NUM)) {\n    sql+=' AND swbs.SERIAL_BATCH_NUM LIKE \"%'+data.SERIAL_BATCH_NUM+'%\"';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"oracle":"SELECT\n\tswbs.*,\n\tsl.LOCATION_CODE,\n\tsl.LOCATION_NAME,\n\t(SELECT swi.QTY FROM xc_st_wh_inventory swi WHERE swbs.BUSINESS_L_ID = swi.ENTRY_L_ID) AS \"RKDXCL\",\n\t(NVL(swbs.QTY,0) - NVL(swbs.DELEVERED_QTY,0)) \"PCXCL\"\nFROM\n\txc_st_wh_b_ser swbs\nLEFT JOIN xc_st_location sl ON swbs.LOCATION_ID = sl.LOCATION_ID\n{#sql#}\nORDER BY swbs.SERIAL_BATCH_NUM","itemId":"sqlswitcher1","mysql":"SELECT\n\tswbs.*,\n\tsl.LOCATION_CODE,\n\tsl.LOCATION_NAME,\n\t(SELECT swi.QTY FROM xc_st_wh_inventory swi WHERE swbs.BUSINESS_L_ID = swi.ENTRY_L_ID) AS \"RKDXCL\",\n\t(IFNULL(swbs.QTY,0) - IFNULL(swbs.DELEVERED_QTY,0)) \"PCXCL\"\nFROM\n\txc_st_wh_b_ser swbs\nLEFT JOIN xc_st_location sl ON swbs.LOCATION_ID = sl.LOCATION_ID\n{#sql#}\nORDER BY swbs.SERIAL_BATCH_NUM"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher1#}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}