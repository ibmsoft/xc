{"inframe":false,"title":"库存业务类型查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nif (!Wb.isEmpty(data.BUSINESS_TYPE_CODE_NAME)) {\n    sql+=' AND (sbt.BUSINESS_TYPE_CODE LIKE \"%'+data.BUSINESS_TYPE_CODE_NAME+'%\" OR sbt.BUSINESS_TYPE_NAME LIKE \"%'+data.BUSINESS_TYPE_CODE_NAME+'%\")';\n}\nif (!Wb.isEmpty(data.LEDGER_ID)) {\n    sql+=' AND (sbt.BUSINESS_TYPE_ID NOT IN(SELECT slbt1.BUSINESS_TYPE_ID FROM xc_st_ld_business_type slbt1 WHERE slbt1.LEDGER_ID = {?LEDGER_ID?}) AND sbt.STATUS =\"Y\")';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tsbt.*,\n\tsdc.ST_CAT_NAME,\n   'Edit' AS \"OP_TYPE\"\nFROM\n\txc_st_business_type sbt\nLEFT JOIN xc_st_doc_cats sdc ON sbt.DOC_CAT_CODE = sdc.ST_CAT_CODE\n{#sql#}\nORDER BY sbt.BUSINESS_TYPE_CODE","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}