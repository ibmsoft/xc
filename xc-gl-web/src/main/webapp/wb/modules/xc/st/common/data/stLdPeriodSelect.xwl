{"inframe":false,"title":"库存会计期查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nsql+=' AND gl.LEDGER_ID = {?LEDGER_ID?}';\nif (!Wb.isEmpty(data.ST_PERIODS)) {\n    sql+=' AND slp.ST_PERIODS = {?ST_PERIODS?}';\n}\nif (!Wb.isEmpty(data.PERIODS_STATUS)) {\n    sql+=' AND slp.PERIODS_STATUS = {?PERIODS_STATUS?}';\n}\nif (!Wb.isEmpty(data.YEAR)) {\n    sql+=' AND LEFT(slp.ST_PERIODS,4) LIKE \"%'+data.YEAR+'%\"';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tslp.*,\n\tpo.ORG_CODE,\n\tpo.ORG_NAME,\n\tgl.LEDGER_CODE,\n\tgl.LEDGER_NAME\nFROM\n\txc_st_ld_periods slp\nLEFT JOIN xip_pub_orgs po ON slp.ORG_ID = po.ORG_ID\nLEFT JOIN xc_gl_ledgers gl ON slp.LEDGER_ID = gl.LEDGER_ID AND po.ORG_ID = gl.ORG_ID\n{#sql#}\nORDER BY slp.ST_PERIODS DESC","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}