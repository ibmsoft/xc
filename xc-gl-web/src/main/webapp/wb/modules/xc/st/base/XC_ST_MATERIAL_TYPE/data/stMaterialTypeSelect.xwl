{"inframe":false,"title":"物资分类查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nif (!Wb.isEmpty(data.upIdStr)) {\n    sql+=' AND t.MATERIAL_TYPE_ID ' + data.upIdStr;\n}\nsql+=' AND t.MAT_TYPE_SET_ID = {?MAT_TYPE_SET_ID?}';\n//末级\nif (!Wb.isEmpty(data.FINAL)) {\n    sql+=' AND NOT EXISTS (SELECT 1 FROM xc_st_material_type smt WHERE smt.UPPER_ID = t.MATERIAL_TYPE_ID)';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tt.MATERIAL_TYPE_ID,\n\tt.MATERIAL_TYPE_CODE,\n\tt.MATERIAL_TYPE_NAME,\n\tt.UPPER_ID,\n\tt.MAT_TYPE_SET_ID,\n\tt.STATUS,\n\tt.CREATION_DATE,\n\tt.CREATED_BY,\n\tt.LAST_UPDATE_DATE,\n\tt.LAST_UPDATE_DATE,\n\t(SELECT t1.MATERIAL_TYPE_NAME FROM xc_st_material_type t1 WHERE t1.MATERIAL_TYPE_ID = t.UPPER_ID) AS \"UP_TYPE\"\nFROM\n\txc_st_material_type t\n{#sql#}\nORDER BY t.MATERIAL_TYPE_CODE","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}