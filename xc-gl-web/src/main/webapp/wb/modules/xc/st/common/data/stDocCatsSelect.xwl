{"inframe":false,"title":"库存单据类型查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","initScript":"var lang = request.getSession().getAttribute(\"XzSessionVars\").get('language'); request.setAttribute(\"language\",lang);","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nif (!Wb.isEmpty(data.DOC_CLASS)) {\n    sql+=' AND sdc.ST_DOC_CLASS = {?DOC_CLASS?}';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tsdc.*,\n    (SELECT\n        CASE\n            WHEN l.VAL_NAME IS NULL OR l.VAL_NAME = '' THEN\n                d.VAL_NAME\n            ELSE\n                l.VAL_NAME\n        END VAL_NAME\n    FROM\n        xip_pub_val_set_dtl d\n    LEFT JOIN xip_pub_val_set_dtl_lang l ON d.VAL_SET_CODE = l.VAL_SET_CODE AND d.VAL_CODE = l.VAL_CODE AND l.VAL_SET_LANG = '{#language#}'\n    WHERE\n        d.VAL_SET_CODE = 'XC_ST_DOC_CLASS'\n    AND d.ENABLE_FLAG = 'Y'\n    AND d.VAL_CODE = sdc.ST_DOC_CLASS) AS ST_DOC_CLASS_NAME,\n    (SELECT f.FORM_DESC FROM xip_wf_process_forms f WHERE f.FORM_ID = sdc.M_A_FORM_ID) M_A_FORM_NAME,\n    (SELECT f.FORM_DESC FROM xip_wf_process_forms f WHERE f.FORM_ID = sdc.M_W_FORM_ID) M_W_FORM_NAME,\n    (SELECT f.FORM_DESC FROM xip_wf_process_forms f WHERE f.FORM_ID = sdc.PC_A_FORM_ID) PC_A_FORM_NAME,\n    (SELECT f.FORM_DESC FROM xip_wf_process_forms f WHERE f.FORM_ID = sdc.PC_P_FORM_ID) PC_P_FORM_NAME,\n    (SELECT f.FORM_DESC FROM xip_wf_process_forms f WHERE f.FORM_ID = sdc.PC_W_FORM_ID) PC_W_FORM_NAME,\n    (SELECT f.PROCESS_NAME FROM xip_wf_processes f WHERE f.PROCESS_ID = sdc.PROCESS_ID) PROCESS_NAME,\n    (SELECT f.CAT_NAME FROM xip_pub_att_cat f WHERE f.CAT_CODE = sdc.ATT_CAT_CODE) ATT_CAT_NAME\nFROM\n\txc_st_doc_cats sdc\n{#sql#}\nORDER BY sdc.ST_CAT_CODE","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}