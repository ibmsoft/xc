{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"var lang = request.getSession().getAttribute(\"XzSessionVars\").get('language');\nrequest.setAttribute(\"language\",lang);","loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nif (!Wb.isEmpty(data.DELEVERED_H_ID)) {\n    sql+=' AND swdl.DELEVERED_H_ID = {?DELEVERED_H_ID?}';\n}\nif (!Wb.isEmpty(data.LEDGER_ID)) {\n    sql+=' AND swdl.LEDGER_ID = {?LEDGER_ID?}';\n}\nif (!Wb.isEmpty(data.MATERIAL_CODE_NAME)) {\n    sql+=' AND (sm.MATERIAL_CODE LIKE \"%'+data.MATERIAL_CODE_NAME+'%\" OR sm.MATERIAL_NAME LIKE \"%'+data.MATERIAL_CODE_NAME+'%\")';\n}\nif (!Wb.isEmpty(data.DELEVERED_L_CODE)) {\n    sql+=' AND swdl.DELEVERED_L_CODE LIKE \"%'+data.DELEVERED_L_CODE+'%\"';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tswdl.*,\n\tsm.MATERIAL_CODE,\n\tsm.MATERIAL_NAME,\n\tsm.SPECIFICATION,\n\tgl.DIM_NAME,\n\tprl.RETURN_L_NUM,\n\tsual.USE_APPLY_L_CODE,\n\tsl.LOCATION_CODE,\n\tsl.LOCATION_NAME,\n\t(SELECT\n       CASE WHEN l.VAL_NAME IS NULL OR l.VAL_NAME = '' THEN d.VAL_NAME ELSE l.VAL_NAME END DESCRIPTION\n     FROM\n       xip_pub_val_set_dtl d\n     LEFT JOIN XIP_PUB_VAL_SET_DTL_LANG l ON d.VAL_SET_CODE = l.VAL_SET_CODE\n     AND d.VAL_CODE = l.VAL_CODE\n     AND l.VAL_SET_LANG = 'zh'\n     WHERE\n       d.VAL_SET_CODE = 'XC_ST_MATERIAL_PROPERTY'\n     AND d.ENABLE_FLAG = 'Y'\n     AND d.VAL_CODE = sm.MATERIAL_PRO) AS MATERIAL_PRO_NAME,\n    smt.MATERIAL_TYPE_CODE,\n    smt.MATERIAL_TYPE_NAME,\n\tswdl.QTY - IFNULL(swdl.ENTRY_QTY,0) AS \"XCSL\",\n    (swdl.QTY - IFNULL(swdl.ENTRY_QTY,0)) / swdl.QTY * swdl.AMOUNT \"JCCB\"\nFROM\n\txc_st_wh_delevered_l swdl\nLEFT JOIN xc_st_material sm ON swdl.MATERIAL_ID = sm.MATERIAL_ID\nLEFT JOIN xc_st_material_type smt ON sm.MATERIAL_TYPE_ID = smt.MATERIAL_TYPE_ID\nLEFT JOIN xc_gl_dimensions gl ON swdl.DIM_ID = gl.DIM_ID\nLEFT JOIN xc_st_use_apply_l sual ON swdl.NOTICE_L_ID = sual.USE_APPLY_L_ID\nLEFT JOIN xc_po_arrival_l pal ON swdl.NOTICE_L_ID = pal.ARRIVAL_L_ID\nLEFT JOIN xc_po_return_l prl ON swdl.NOTICE_L_ID = prl.RETURN_L_ID\nLEFT JOIN xc_st_location sl ON swdl.LOCATION_ID = sl.LOCATION_ID\n{#sql#}\nORDER BY swdl.DELEVERED_L_CODE,sl.LOCATION_CODE","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}