{"inframe":false,"title":"期初入库及退货主表查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nsql+=' AND sweh.LEDGER_ID = {?LEDGER_ID?}';\nsql+=' AND sw.WAREHOUSE_ID = {?WAREHOUSE_ID?}';\nif (!Wb.isEmpty(data.MATERIAL)) {\n    sql+=' AND (sm.MATERIAL_CODE LIKE \"%'+data.MATERIAL+'%\" OR sm.MATERIAL_NAME LIKE \"%'+data.MATERIAL+'%\")';\n}\nif (!Wb.isEmpty(data.STATUS)) {\n    if(data.STATUS != 'ALL')\n        sql+=' and sweh.STATUS={?STATUS?}';\n}\nif (!Wb.isEmpty(data.INIT)) {\n    if(data.INIT == '0')\n        sql+=' and sweh.INIT IN(\"0\",\"1\")';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tsweh.*,\n\tgl.LEDGER_NAME,\n\tpo.ORG_NAME,\n\tsbt.BUSINESS_TYPE_CODE,\n\tsbt.BUSINESS_TYPE_NAME,\n\tsdc.ST_CAT_NAME,\n\tsw.WAREHOUSE_CODE,\n\tsw.WAREHOUSE_NAME,\n\t(SELECT pe.EMP_NAME FROM xip_pub_emps pe,xip_pub_users pu WHERE pe.EMP_ID = pu.EMP_ID AND pu.USER_ID = sweh.CREATED_BY) AS \"EMP_NAME\",\n\tpd.DEPT_NAME,\n\tpp.PROJECT_NAME,\n\tswel.QTY,\n\tswel.PRICE,\n\tswel.AMOUNT,\n\tsm.MATERIAL_CODE,\n\tsm.MATERIAL_NAME,\n\tsm.SPECIFICATION,\n\tgd.DIM_NAME\nFROM\n\txc_st_wh_entry_h sweh\nLEFT JOIN xc_gl_ledgers gl ON sweh.LEDGER_ID = gl.LEDGER_ID\nLEFT JOIN xip_pub_orgs po ON sweh.ORG_ID = po.ORG_ID\nLEFT JOIN xc_st_business_type sbt ON sweh.BUSINESS_TYPE_ID = sbt.BUSINESS_TYPE_ID\nLEFT JOIN xc_st_doc_cats sdc ON sweh.DOC_CAT_CODE = sdc.ST_CAT_CODE\nLEFT JOIN xc_st_warehouse sw ON sweh.WAREHOUSE_ID = sw.WAREHOUSE_ID\nLEFT JOIN xc_st_warehouse_keeper swk ON sweh.WH_KEEPER_ID = swk.WAREHOUSE_KEEPER_ID\nLEFT JOIN xip_pub_depts pd ON sweh.DEPT_ID = pd.DEPT_ID\nLEFT JOIN xc_pm_projects pp ON sweh.PROJECT_ID = pp.PROJECT_ID\nLEFT JOIN xc_st_wh_entry_l swel ON sweh.ENTRY_H_ID = swel.ENTRY_H_ID\nLEFT JOIN xc_st_material sm ON swel.MATERIAL_ID = sm.MATERIAL_ID\nLEFT JOIN xc_gl_dimensions gd ON swel.DIM_ID = gd.DIM_ID\n{#sql#}\nORDER BY sweh.ENTRY_H_CODE DESC","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}