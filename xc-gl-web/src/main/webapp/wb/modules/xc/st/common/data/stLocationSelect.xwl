{"inframe":false,"title":"货位查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql,data = app.get();\nsql = ' WHERE 1 = 1';\nsql+=' AND sl.WAREHOUSE_ID = {?WAREHOUSE_ID?}';\nif (!Wb.isEmpty(data.upIdStr)) {\n    sql+=' AND sl.LOCATION_ID ' + data.upIdStr;\n}\nif (!Wb.isEmpty(data.LOCATION_ID)) {\n    sql+=' AND (sl.UPPER_ID = {?LOCATION_ID?} OR sl.LOCATION_ID = {?LOCATION_ID?})';\n}\nif (!Wb.isEmpty(data.IS_LAST)) {\n    sql+=' AND sl.IS_LAST = \"Y\"';\n}\nif (!Wb.isEmpty(data.LEDGER_ID)) {\n    sql+=' AND sw.LEDGER_ID = {?LEDGER_ID?}';\n    sql+=' AND sw.IS_LOCATION = \"Y\"';\n}\nif (!Wb.isEmpty(data.QUERY_CODE_NAME)) {\n    sql+=' AND (sl.LOCATION_CODE LIKE \"%'+data.QUERY_CODE_NAME+'%\" OR sl.LOCATION_NAME LIKE \"%'+data.QUERY_CODE_NAME+'%\")';\n}\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\tsl.*,\n\t(SELECT t1.LOCATION_CODE FROM xc_st_location t1 WHERE t1.LOCATION_ID = sl.UPPER_ID) AS \"UP_CODE\"\n\nFROM\n\txc_st_location sl\nLEFT JOIN xc_st_warehouse sw ON sl.WAREHOUSE_ID = sw.WAREHOUSE_ID\n{#sql#}\nORDER BY sl.LOCATION_CODE","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}