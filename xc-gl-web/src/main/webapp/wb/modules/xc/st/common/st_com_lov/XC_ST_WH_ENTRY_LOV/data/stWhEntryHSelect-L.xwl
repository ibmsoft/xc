{"inframe":false,"title":"入库及退货主表--蓝单查询","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","itemId":"module"},"children":[{"configs":{"oracle":"SELECT\n\tsweh.*,\n\tpoh.ORDER_H_CODE,\n\tpoh.ORDER_H_NAME,\n\tpah.ARRIVAL_H_CODE,\n\tpah.ARRIVAL_H_NAME,\n\tsw.WAREHOUSE_CODE,\n\tsw.WAREHOUSE_NAME,\n\t(SELECT pe.EMP_NAME FROM xip_pub_emps pe,xip_pub_users pu WHERE pe.EMP_ID = pu.EMP_ID AND pu.USER_ID = swk.EMP_ID) AS \"EMP_NAME\",\n\t(SELECT pe.EMP_NAME FROM xip_pub_emps pe,xip_pub_users pu WHERE pe.EMP_ID = pu.EMP_ID AND pu.USER_ID = sweh.BUYER_ID) AS \"SALESMAN\",\n\tpd.DEPT_NAME,\n\tav.VENDOR_NAME,\n\tac.AP_CONTRACT_NAME\nFROM\n\txc_st_wh_entry_h sweh\nLEFT JOIN xc_po_arrival_h pah ON sweh.NOTICE_H_ID = pah.ARRIVAL_H_ID\nLEFT JOIN xc_st_warehouse sw ON sweh.WAREHOUSE_ID = sw.WAREHOUSE_ID\nLEFT JOIN xc_st_warehouse_keeper swk ON sweh.WH_KEEPER_ID = swk.WAREHOUSE_KEEPER_ID\nLEFT JOIN xc_po_order_h poh ON sweh.ORDER_H_ID = poh.ORDER_H_ID\nLEFT JOIN xip_pub_depts pd ON sweh.DEPT_ID = pd.DEPT_ID\nLEFT JOIN xc_ap_vendors av ON sweh.VENDOR_ID = av.VENDOR_ID\nLEFT JOIN xc_ap_contract ac ON sweh.AP_CONTRACT_ID = ac.AP_CONTRACT_ID\nLEFT JOIN xc_st_wh_entry_l swel ON sweh.ENTRY_H_ID = swel.ENTRY_H_ID\nWHERE \n\tsweh.ORG_ID = {?QUERY_ORG_ID?}\nAND sweh.LEDGER_ID = {?QUERY_LEDGER_ID?}\nAND sweh.VENDOR_ID LIKE '%{#QUERY_VENDOR_ID#}%'\nAND sweh.WAREHOUSE_ID LIKE '%{#QUERY_WAREHOUSE_ID#}%'\nAND (sweh.ENTRY_H_CODE LIKE '%{#QUERY_CODE_NAME#}%' OR sweh.ENTRY_H_NAME LIKE '%{#QUERY_CODE_NAME#}%')\nAND sweh.DOC_CAT_CODE = {?DOC_CAT_CODE_L?}\nAND sweh.STATUS IN ('2','3')\nAND (swel.QTY - NVL(swel.DELEVERED_QTY,0) <> 0 OR sweh.AMOUNT <> 0)\nGROUP BY sweh.ENTRY_H_ID\nORDER BY sweh.ENTRY_H_CODE DESC","itemId":"sqlswitcher1","mysql":"SELECT\n\tsweh.*,\n\tpoh.ORDER_H_CODE,\n\tpoh.ORDER_H_NAME,\n\tpah.ARRIVAL_H_CODE,\n\tpah.ARRIVAL_H_NAME,\n\tsw.WAREHOUSE_CODE,\n\tsw.WAREHOUSE_NAME,\n\t(SELECT pe.EMP_NAME FROM xip_pub_emps pe,xip_pub_users pu WHERE pe.EMP_ID = pu.EMP_ID AND pu.USER_ID = swk.EMP_ID) AS \"EMP_NAME\",\n\t(SELECT pe.EMP_NAME FROM xip_pub_emps pe,xip_pub_users pu WHERE pe.EMP_ID = pu.EMP_ID AND pu.USER_ID = sweh.BUYER_ID) AS \"SALESMAN\",\n\tpd.DEPT_NAME,\n\tav.VENDOR_NAME,\n\tac.AP_CONTRACT_NAME\nFROM\n\txc_st_wh_entry_h sweh\nLEFT JOIN xc_po_arrival_h pah ON sweh.NOTICE_H_ID = pah.ARRIVAL_H_ID\nLEFT JOIN xc_st_warehouse sw ON sweh.WAREHOUSE_ID = sw.WAREHOUSE_ID\nLEFT JOIN xc_st_warehouse_keeper swk ON sweh.WH_KEEPER_ID = swk.WAREHOUSE_KEEPER_ID\nLEFT JOIN xc_po_order_h poh ON sweh.ORDER_H_ID = poh.ORDER_H_ID\nLEFT JOIN xip_pub_depts pd ON sweh.DEPT_ID = pd.DEPT_ID\nLEFT JOIN xc_ap_vendors av ON sweh.VENDOR_ID = av.VENDOR_ID\nLEFT JOIN xc_ap_contract ac ON sweh.AP_CONTRACT_ID = ac.AP_CONTRACT_ID\nLEFT JOIN xc_st_wh_entry_l swel ON sweh.ENTRY_H_ID = swel.ENTRY_H_ID\nWHERE \n\tsweh.ORG_ID = {?QUERY_ORG_ID?}\nAND sweh.LEDGER_ID = {?QUERY_LEDGER_ID?}\nAND sweh.VENDOR_ID LIKE '%{#QUERY_VENDOR_ID#}%'\nAND sweh.WAREHOUSE_ID LIKE '%{#QUERY_WAREHOUSE_ID#}%'\nAND (sweh.ENTRY_H_CODE LIKE '%{#QUERY_CODE_NAME#}%' OR sweh.ENTRY_H_NAME LIKE '%{#QUERY_CODE_NAME#}%')\nAND sweh.DOC_CAT_CODE = {?DOC_CAT_CODE_L?}\nAND sweh.STATUS IN ('2','3')\nAND (swel.QTY - IFNULL(swel.DELEVERED_QTY,0) <> 0 AND sweh.AMOUNT <> 0)\nGROUP BY sweh.ENTRY_H_ID\nORDER BY sweh.ENTRY_H_CODE DESC"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher1#}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}