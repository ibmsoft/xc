{"inframe":false,"title":"修改（主、行）","hidden":false,"roles":{"default":1},"children":[{"configs":{"serverScript":"var receipt_h = Wb.decode(app.get('receipt_h'));\nvar newRecs = Wb.decode(app.get('newRecs'));\nvar updateRecs = Wb.decode(app.get('updateRecs'));\nvar deleteRecs = Wb.decode(app.get('deleteRecs'));\n\n\nvar receipt_hs = [];\nreceipt_hs.push(receipt_h);\n\nrequest.setAttribute('receipt_hs',Wb.encode(receipt_hs));\nrequest.setAttribute('newRecs',Wb.encode(newRecs));\nrequest.setAttribute('updateRecs',Wb.encode(updateRecs));\nrequest.setAttribute('deleteRecs',Wb.encode(deleteRecs));","itemId":"module"},"children":[{"configs":{"sql":"UPDATE demo_po_receipt_h SET\n  H_CODE = {?varchar.H_CODE?},\n  ORG = {?varchar.ORG?},\n  DEPT = {?varchar.DEPT?},\n  VENDER = {?varchar.VENDER?},\n  PO = {?varchar.PO?},\n  KEEPER = {?varchar.KEEPER?},\n  CONTRACT = {?varchar.CONTRACT?},\n  DELIVERY_DATE = {?timestamp.DELIVERY_DATE?},\n  WAREHOUSE = {?varchar.WAREHOUSE?},\n  LAST_UPDATE_DATE = SYSDATE(),\n  LAST_UPDATED_BY = {?XIP.userId?}\nWHERE H_ID = {?varchar.H_ID?}","transaction":"start","itemId":"update_h","arrayName":"receipt_hs"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"INSERT INTO demo_po_receipt_l (\n  L_ID,\n  H_ID,\n  ASSET_CODE,\n  ASSET_NAME,\n  SPEC,\n  UNIT,\n  QUANTITY,\n  PRICE,\n  AMOUNT,\n  LOCATION,\n  BATCH_NO,\n  NOTE,\n  CREATION_DATE,\n  CREATED_BY,\n  LAST_UPDATE_DATE,\n  LAST_UPDATED_BY\n)VALUES(\n  {?varchar.L_ID?},\n  {?varchar.H_ID?},\n  {?varchar.ASSET_CODE?},\n  {?varchar.ASSET_NAME?},\n  {?varchar.SPEC?},\n  {?varchar.UNIT?},\n  {?decimal.QUANTITY?},\n  {?decimal.PRICE?},\n  {?decimal.AMOUNT?},\n  {?varchar.LOCATION?},\n  {?varchar.BATCH_NO?},\n  {?varchar.NOTE?},\n  SYSDATE(),\n  {?XIP.userId?},\n  SYSDATE(),\n  {?XIP.userId?}\n)","itemId":"insert_l","arrayName":"newRecs"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"UPDATE demo_po_receipt_l SET\n  H_ID = {?varchar.H_ID?},\n  ASSET_CODE = {?varchar.ASSET_CODE?},\n  ASSET_NAME = {?varchar.ASSET_NAME?},\n  SPEC = {?varchar.SPEC?},\n  UNIT = {?varchar.UNIT?},\n  QUANTITY = {?decimal.QUANTITY?},\n  PRICE = {?decimal.PRICE?},\n  AMOUNT = {?decimal.AMOUNT?},\n  LOCATION = {?varchar.LOCATION?},\n  BATCH_NO = {?varchar.BATCH_NO?},\n  NOTE = {?varchar.NOTE?},\n  LAST_UPDATE_DATE = SYSDATE(),\n  LAST_UPDATED_BY = {?XIP.userId?}\nWHERE L_ID = {?varchar.L_ID?}","itemId":"update_l","arrayName":"updateRecs"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"DELETE FROM demo_po_receipt_l WHERE L_ID = {?varchar.L_ID?}","itemId":"delete_l","arrayName":"deleteRecs"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}