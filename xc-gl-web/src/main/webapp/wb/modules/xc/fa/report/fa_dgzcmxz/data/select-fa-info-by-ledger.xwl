{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var sql, data = app.get();\nsql = ' WHERE 1=1 ';\nsql+=' AND LEDGER_ID={?LEDGER_NAME?}';\nif (!Wb.isEmpty(data.DEPT_NAME)) {\n    sql+=' AND CBZX = {?DEPT_NAME?}';\n}\nsql+=' AND FA_PROPERTY = {?FA_PROPERTY?}';\nif (!Wb.isEmpty(data.CAT_CODE)) {\n    sql+=' AND (CAT_CODE = {?CAT_CODE?}',\n    sql+=' OR CAT_CODE IN (SELECT fc.CAT_CODE FROM xc_fa_cats fc WHERE UP_CODE = {?CAT_CODE?})',\n    sql+=' OR CAT_CODE IN (SELECT fca.CAT_CODE FROM xc_fa_cats fca WHERE fca.UP_CODE IN (SELECT fc.CAT_CODE FROM xc_fa_cats fc WHERE UP_CODE = {?CAT_CODE?})))';\n}\nsql+=' AND PERIOD_CODE BETWEEN {?PERIOD_START?} AND {?PERIOD_END?}';\n// if (!Wb.isEmpty(data.PERIOD_START)) {\n//     if (!Wb.isEmpty(data.PERIOD_END)) {\n//         sql+=' AND PERIOD_CODE BETWEEN {?PERIOD_START?} AND {?PERIOD_END?} ';\n//     }else{\n//         sql+=' AND PERIOD_CODE >= {?PERIOD_START?}';\n//     }\n// }else{\n//     if (!Wb.isEmpty(data.PERIOD_END)) {\n//         sql+=' AND PERIOD_CODE <= {?PERIOD_END?}';\n//     }\n// }\nrequest.setAttribute('sql', sql);","itemId":"module"},"children":[{"configs":{"sql":"SELECT\n\t*\nFROM\n\txc_fa_additions\n{#sql#}\nAND (ZCBM LIKE '%{#QUERY_CODE_NAME#}%' OR ZCMC LIKE '%{#QUERY_CODE_NAME#}%')\nORDER BY ZCBM","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}