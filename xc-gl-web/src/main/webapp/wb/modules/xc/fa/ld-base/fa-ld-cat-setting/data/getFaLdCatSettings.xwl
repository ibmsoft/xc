{"inframe":false,"title":"获取账簿分类配置","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"var lang = request.getSession().getAttribute(\"XzSessionVars\").get('language');\nrequest.setAttribute(\"language\",lang);","itemId":"module"},"children":[{"configs":{"sql":"SELECT \n  s.SETTING_ID,\n  s.LEDGER_ID,\n  (SELECT l.LEDGER_NAME FROM xc_gl_ledgers l WHERE l.LEDGER_ID = s.LEDGER_ID) LEDGER_NAME,\n  s.CAT_CODE,\n  c.CAT_NAME,\n  (SELECT c1.CAT_NAME FROM xc_fa_cats c1 WHERE c1.CAT_CODE = c.UP_CODE) UP_CAT_NAME,\n  c.FA_PROPERTY,\n  (SELECT case when t.VAL_NAME is null or t.VAL_NAME = '' then l.VAL_NAME else t.VAL_NAME end VAL_NAME\n     FROM xip_pub_val_set_dtl l\n     LEFT JOIN XIP_PUB_VAL_SET_DTL_LANG t \n            ON l.VAL_SET_CODE = t.VAL_SET_CODE  \n           AND l.VAL_CODE = t.VAL_CODE \n           AND t.VAL_SET_LANG = '{#language#}'\n    WHERE l.VAL_SET_CODE = 'XC_FA_PROPERTY'\n      AND l.VAL_CODE = c.FA_PROPERTY) FA_PROPERTY_VIEW,\n  s.SYNX,\n  s.ZJFF,\n  (SELECT m.METHOD_NAME FROM xc_fa_depr_methods m WHERE m.METHOD_CODE = s.ZJFF) ZJFF_VIEW,\n  s.SFZJ,\n  s.TXGZ,\n  s.ENABLE_FLAG,\n  s.CZL,\n  s.YZKM,\n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.YZKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) YZKM_VIEW,\n  s.LJZJTXKM,\n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.LJZJTXKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) LJZJTXKM_VIEW,\n  s.JZZBKM,  \n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.JZZBKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) JZZBKM_VIEW,\n  s.QLKM,\n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.QLKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) QLKM_VIEW,\n  s.FYKM,\n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.FYKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) FYKM_VIEW,\n  s.JZSSKM,\n  (SELECT a.ACC_NAME \n     FROM xc_gl_accounts a \n    WHERE a.ACC_CODE = s.JZSSKM \n      AND a.ACC_HRCY_ID = (SELECT l.ACC_HRCY_ID \n                             FROM xc_gl_ledgers l \n                            WHERE l.ACC_HRCY_ID = a.ACC_HRCY_ID \n                              AND l.LEDGER_ID = s.LEDGER_ID)) JZSSKM_VIEW\nFROM\n  xc_fa_ld_cat_settings s\n  LEFT JOIN xc_fa_cats c ON s.CAT_CODE = c.CAT_CODE\nWHERE s.LEDGER_ID = {?ledgerId?}\n  AND c.CAT_NAME LIKE '%{#catName#}%'\n  AND c.FA_PROPERTY LIKE '%{#faProperty#}%'\nORDER BY c.FA_PROPERTY asc, s.CAT_CODE asc","itemId":"dataprovider"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}