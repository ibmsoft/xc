{"inframe":false,"title":"资产分类树","hidden":false,"roles":{"default":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"hidden":"true","itemId":"LEDGER_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"tagConfigs":"baseCls:'my-panel-no-border'","style":"border-width:0px","layout":"form","border":"false","itemId":"FA_CATS"},"children":[{"configs":{"rootVisible":"false","root":"{id:'root',text:'root',cat_code:'root',expanded:true}","border":"false","itemId":"tree"},"events":{"itemclick":"\nreturnRowFn(record,'cat_code');"},"children":[{"configs":{"autoLoad":"false","itemId":"store","url":"m?xwl=xc/fa/common/FA_CATS_TREE/data/faTree"},"events":{"beforeload":"\nvar node = operation.node;\n\nvar upCode = node.isRoot() ? -1 : operation.node.data.CAT_CODE; \n\nif(upCode==null || upCode == undefined || upCode == \"undefined\"){\n  upCode = -1;\n}\n\noperation.params.UP_CODE = upCode;\n\nvar whereSql= ' AND 1=1';\nif(node.isRoot()){\n  whereSql = 'union select \\'固定资产\\' AS \\'text\\',\\' \\' AS CAT_ID,\\'FA_ROOT\\' AS CAT_CODE,'+\n             '\\'固定资产\\' AS CAT_NAME,\\'-1\\' AS UP_CODE,\\'\\' AS UP_NAME, 0 AS IS_LEAF,'+\n              '\\'\\' AS FA_PROPERTY,\\'\\' AS FA_PRO_NAME,\\'false\\' as \\'leaf\\' FROM XC_FA_CATS '+\n              'union select \\'无形资产\\' AS \\'text\\',\\' \\' AS CAT_ID,\\'IA_ROOT\\' AS CAT_CODE,'+\n             '\\'无形资产\\' AS CAT_NAME,\\'-1\\' AS UP_CODE,\\'\\' AS UP_NAME, 0 AS IS_LEAF,'+\n              '\\'\\' AS FA_PROPERTY,\\'\\' AS FA_PRO_NAME,\\'false\\' as \\'leaf\\' FROM XC_FA_CATS '+\n    'union select \\'生物性资产\\' AS \\'text\\',\\' \\' AS CAT_ID,\\'BA_ROOT\\' AS CAT_CODE,'+\n             '\\'生物性资产\\' AS CAT_NAME,\\'-1\\' AS UP_CODE,\\'\\' AS UP_NAME, 0 AS IS_LEAF,'+\n              '\\'\\' AS FA_PROPERTY,\\'\\' AS FA_PRO_NAME,\\'false\\' as \\'leaf\\' FROM XC_FA_CATS '+\n    'union select \\'低值易耗品\\' AS \\'text\\',\\' \\' AS CAT_ID,\\'LV_ROOT\\' AS CAT_CODE,'+\n             '\\'低值易耗品\\' AS CAT_NAME,\\'-1\\' AS UP_CODE,\\'\\' AS UP_NAME, 0 AS IS_LEAF,'+\n              '\\'\\' AS FA_PROPERTY,\\'\\' AS FA_PRO_NAME,\\'false\\' as \\'leaf\\' FROM XC_FA_CATS '\n    ;\n}\nstore.getProxy().extraParams.LEDGER_ID = app.LEDGER_ID.getValue();\nstore.getProxy().extraParams.whereSql = whereSql;"},"children":[],"expanded":false,"type":"treestore"}],"expanded":true,"type":"tree"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}